
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB">
    <head>
        <title>Surface, Curve, Algorithm, Geometry, Algebra</title>
        <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
        <meta name="description" content="Surface, Curve, Algorithm, Geometry, Algebra" />
        <meta name="keywords" content="Surface, Curve, Algorithm, Geometry, Algebra" />
        <meta name="robots" content="index, follow" />
        <link rel="shortcut icon" href="/favicon.ico" type="../image/x-icon" />
        <link rel="stylesheet" type="text/css" href="../screen.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="../highlight.css">
        <link rel="stylesheet" type="text/css" href="../style.css">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <script type="text/x-mathjax-config">
              MathJax.Hub.Config({
                extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
                jax: ["input/TeX","output/HTML-CSS"],
                tex2jax: {inlineMath: [["$","$"],["\(","\)"]]}
              });
            </script>
        <script type="text/javascript" src="../MathJax-2.6-latest/MathJax.js"></script>
        <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    </head>
<body>

<div class="mytitle">
Product of all elements without current one in an array
</div>
<div class="mytext">
Let's understand the question first<br>
Given an array [2, 3, 4], and you need to product an array [3*4, 2*4, 2*3] => [12, 8, 6]<br>
In other words, current element is removed and multiply the rest of elements.<br>
It is easy to use two loops to solve the problem, but the runtime is <span class="wbold">$\mathcal{O}(n^2)$</span><br>  
How to solve the problem with runtime <span class="wbold">$\mathcal{O}(n)$</span>, but you can allow to use space <span class="wbold">$\mathcal{O}(n)$</span><br><br>  
<span class="wbold">Here is the trick with dynamic programming.</span><br>
<div class="cen">
<img src="../image/MultiArray.svg" width="50%" height="50%" /><br>
</div> 

<pre class="prettyprint">
/**
* Multiple all the integers except the current one
* No Division is allowed
* Runtime is O(n)
* [2, 3, 4] => [3*4, 2*4, 2*3] => [12, 8, 6]
*/ 
public static int[] multiple(int[] arr){
    if (arr == null){
        throw new IllegalArgumentException("arr must not be null.");
    }else{
        int len = arr.length;
        int[] arr1 = new int[len];
        int[] arr2 = new int[len];
        if(len > 1){
            arr1[0] = arr2[len-1] = 1;
            for(int i=1; i < len; i++){
                arr1[i] = arr[i-1]*arr1[i-1];
                arr2[len-1 - i] = arr[len-i]*arr2[len-i];
            }
            for(int i=0; i < len; i++)
            arr1[i] = arr1[i]*arr2[i];
        }
        return arr1;
    }
}
</pre>
<div class="cen">
<a href="https://github.com/bsdshell/java/tree/master/MultiplyArrayInteger.java">Source Code</a>
</div>

    </body>
    </html>


