<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-08-20 Tue 16:10 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="cat" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://thomasf.github.io/solarized-css/solarized-light.min.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgb105c2c">1. Haskell <b>Text.RawString.QQ</b> is useful for Html, Sql and Regular expression.</a></li>
<li><a href="#org47c7d4d">2. There is issue when stack build WaiLib.hs</a></li>
<li><a href="#orga7a5e0a">3. Added Javascript to edit code block</a></li>
<li><a href="#orgabe0198">4. MacOS automatically update screws up <b>tmux</b></a></li>
<li><a href="#orgb3b02d8">5. Haskell show, print and putStr or putStrLn</a></li>
<li><a href="#orgd2f43f5">6. Add wai-uil to wai.hs Server for redirecting response URI</a></li>
<li><a href="#org0aad751">7. Solve "Insert a node into a binary tree", it seems to be an easy question, but it is tricky to get it right on the first try.</a></li>
<li><a href="#orgc2daa87">8. <span class="done DONE">DONE</span> Hair cut</a></li>
<li><a href="#org0992fe6">9. <span class="done DONE">DONE</span> Added three buttons: add, update and delete to wai.hs</a></li>
<li><a href="#org7261548">10. <span class="done DONE">DONE</span> Do my laundry</a></li>
<li><a href="#orgf4c193a">11. <span class="done DONE">DONE</span> Install Vim 8.1.135, and fix symbol link with the Vim syntax.vim file error</a></li>
<li><a href="#orgef97f19">12. <span class="done DONE">DONE</span> Try to understand Visitor pattern in Java and Haskell Algebraic Datatypes</a></li>
<li><a href="#org8e78f1e">13. <span class="done DONE">DONE</span> Add Redirect response to wai.hs with wai-uti</a></li>
<li><a href="#org7c1943b">14. <span class="done DONE">DONE</span> pushall respositories to bitbucket</a></li>
<li><a href="#orge81405b">15. <span class="done DONE">DONE</span> fix resume a bit</a></li>
<li><a href="#orgf19a002">16. <span class="todo TODO">TODO</span> Need to add more detail to resume</a></li>
<li><a href="#org03964df">17. <span class="todo TODO">TODO</span> Buy a new pot and buy some rice</a></li>
<li><a href="#org8cf571f">18. <span class="done DONE">DONE</span> Open new paypal account</a></li>
<li><a href="#orgdb3908e">19. <span class="done DONE">DONE</span> Add color to wai.hs to highlight the current edited code block</a></li>
<li><a href="#orgbde3948">20. <span class="done DONE">DONE</span> Send out more resumes</a></li>
<li><a href="#org9d77ab6">21. <span class="todo TODO">TODO</span> Do some java coding</a></li>
<li><a href="#org083e3db">22. <span class="todo TODO">TODO</span> Take a look at the Algebraic Data Type and Visitor pattern in Java</a></li>
<li><a href="#org611b842">23. <span class="done DONE">DONE</span> Send out more resume,  more to EA</a></li>
<li><a href="#org753c8d6">24. <span class="done DONE">DONE</span> Add Applescript to send notification when filewatcher detects some txt file inside password folder.</a></li>
<li><a href="#orgec0bcb4">25. <span class="done DONE">DONE</span> Finally figure out how to use multiple putStrLn in Agda</a></li>
<li><a href="#org472f1cb">26. <span class="done DONE">DONE</span> Refactor filewatcher.hs, remove IORef, clean up useless code</a></li>
<li><a href="#org00936f0">27. <span class="done DONE">DONE</span> Added double click event: <code>ondblclick</code> to javascript file inside <code>wai.hs</code> to improve user experience.</a></li>
<li><a href="#orgbce6d09">28. <span class="done DONE">DONE</span> Finished Osense intervew take-home assignment.</a></li>
<li><a href="#org482b8ab">29. <span class="done DONE">DONE</span> Wrote a shell script to simplify gcc compilation process. <code>$scr/gcc_compile.sh</code></a></li>
<li><a href="#org8173fd9">30. <span class="done DONE">DONE</span> Fixed an issue where is special characters are not escaped properly.</a></li>
<li><a href="#org2d5572b">31. <span class="done DONE">DONE</span> Xencall call HR interview</a></li>
<li><a href="#orge95a7db">32. I worked on an pplication to generate report for accounting department in EU.</a></li>
<li><a href="#org2a67288">33. In VoiceBox Inc.</a></li>
<li><a href="#orgbe7f259">34. iOS development</a></li>
<li><a href="#org5ad040b">35. <span class="done DONE">DONE</span> Interview with expa.com</a></li>
<li><a href="#org08ab6b4">36. <span class="done DONE">DONE</span> Implement <b>Eight Queens</b> problem in Haskell</a></li>
<li><a href="#orgdc89c36">37. <span class="done DONE">DONE</span> Added code: Post Html form, and retrieve data from Html Input box, insert data to Sqlite-simple DB.</a></li>
<li><a href="#org0b781ee">38. <span class="done DONE">DONE</span> Added code: Integrate Sqlite-simple to wai.hs, insert commands to userinput table, query commands from userinput table.</a></li>
<li><a href="#org493d4e7">39. <span class="done DONE">DONE</span> Refactored code: Clearn up some unnecessary code.</a></li>
<li><a href="#orgfee7787">40. <span class="done DONE">DONE</span> A guy asks me to meet as Benze Coffee around Hamilton St. and Helmcken St. from a company called Linquet.com</a></li>
<li><a href="#orgab706c6">41. <span class="done DONE">DONE</span> Integrate Ajax to wai.hs, send Json data to Server, and get response from Server in client side.</a></li>
<li><a href="#org553f4b5">42. <span class="done DONE">DONE</span> I has an interview with Xencall today.</a></li>
<li><a href="#org1e9c302">43. <span class="done DONE">DONE</span> Interview with a company called Impact Recruitment last Friday.</a></li>
<li><a href="#org302e124">44. Download Vertex Buffer Object(VBO) and play around it.</a></li>
<li><a href="#org49eb3d6">45. <span class="done DONE">DONE</span> Interview with Eletronic Art.</a></li>
<li><a href="#org56ed00f">46. <span class="done DONE">DONE</span> Implement Javascript editor with CSS.</a></li>
<li><a href="#orgc21e670">47. <span class="done DONE">DONE</span> Create new profile in Iterm2</a></li>
<li><a href="#org32ff8ef">48. I have onsite interview today with EA, I will meet a technical director Jun Wang and Kelly Tainton and Aron Brown and Chris Olson.</a></li>
<li><a href="#org08b78a5">49. Today, I try to include some or import some functions from Javascript to html file, but it is so tricky I still have no idea how to do it.</a></li>
<li><a href="#org58a7576">50. <span class="done DONE">DONE</span> Handle Second request from the first request in Haskell Wai API.</a></li>
<li><a href="#org7be0c5e">51. Interview with Amdoc today and I have no idea what to expect from them.</a></li>
<li><a href="#org53609c4">52. Work on an App to take all the pdf file from a directory and display its names on browser.</a></li>
<li><a href="#org273d3ce">53. Install Haskell Platform inside Ubuntu VM and realize it is 8.0.x version.</a></li>
<li><a href="#org8c4a7c0">54. Install some Emacs Themes from Emacs Theme Gallery today.</a></li>
<li><a href="#orgf22c2d5">55. Add GenePDFHtml.hs to bitbucket as repos. GenePDFHtml</a></li>
<li><a href="#orge708d4c">56. <span class="todo TODO">TODO</span> Add GenePDFHtml.hs to Wai.hs Server</a></li>
<li><a href="#org970a906">57. Replace gluPerspective with glFrustrum in OpenGL</a></li>
<li><a href="#orgab5d5e3">58. What is glutReshapeFunc in OpenGL</a></li>
<li><a href="#org7e3ebf4">59. Finally AronModule can be built in Ubuntu with <b>Stack</b>, it is not true, there is still issue with regex-tdfa out of memory in my Ubuntu vm.</a></li>
<li><a href="#orgd2dbef6">60. Stack will not always solve all the problems for you.</a></li>
<li><a href="#org1e38273">61. Add RSA keys to Ubuntu and FreeBSD hosts.</a></li>
<li><a href="#org978d296">62. Why your public key not working in Github: Error Permission denied (publickey)</a></li>
<li><a href="#orgc359e3f">63. Bought a FreeBSD VM 3G, 60G from Digit Ocean for $15.</a></li>
<li><a href="#orga4c2847">64. FreeBSD install package</a></li>
<li><a href="#org2091001">65. FreeBSD apache html folder</a></li>
<li><a href="#org18cff3e">66. FreeBSD install GHC</a></li>
<li><a href="#org2d15dfc">67. <span class="done DONE">DONE</span> Add shell script to upload file to Ubuntu and FreeBSD hosts</a></li>
<li><a href="#org264a58b">68. Rename haskell<sub>webapp</sub> \( \Rightarrow \) haskellwebapp2</a></li>
<li><a href="#org9221417">69. Create User and Image tables in Sqlite3 database.</a></li>
<li><a href="#orgb657906">70. Insect User to Sqlite database.</a></li>
<li><a href="#org902c999">71. Add login and password validation page.</a></li>
<li><a href="#orgb1d932b">72. Word8 and ByteString in Haskell.</a></li>
<li><a href="#orgbba9246">73. C++ Dangling pointer Dangling Pointer</a></li>
<li><a href="#orgb4d6d82">74. What is unique pointer, shared pointer and weak pointer and what is std::move in C++</a></li>
<li><a href="#org9e1bf0a">75. Change all paths in WaiLib.hs and Wai.hs, and it run in FreeBSD so far.</a></li>
<li><a href="#org74bf678">76. In FreeBSD, <code>/usr/ports/database</code> is not shown.</a></li>
<li><a href="#org7a2c0b6">77. Install Redis in FreeBSD Redis installation on FreeBSD</a></li>
<li><a href="#orgc875b85">78. Haskell Enum Trick Enum Trick</a></li>
<li><a href="#org141bb65">79. Show Maybe is a Functor Functor Maybe Proof</a></li>
<li><a href="#org93e5300">80. Move GenePDFHtml to WaiLib.hs file, Create a GenePDFHtmlLib in $b/haskelllib</a></li>
<li><a href="#org78ecd6e">81. Refactor function in WaiLib</a></li>
<li><a href="#org038d350">82. Change Emacs Org-mode with solarized theme with CSS file Emacs Org-mode Solarized Theme</a></li>
<li><a href="#org54f6190">83. Change the width of center theme on the current theme.</a></li>
<li><a href="#org05e157d">84. Add install.sh to each stackproject project</a></li>
<li><a href="#orgc947fad">85. Change default shell in FreeBSD change shell</a></li>
<li><a href="#org9b1583f">86. GHC run out of memory in Ubuntu 1G RAM GHC out of memory</a></li>
<li><a href="#orgdedaa3e">87. Change web host from Ubuntu 1G to FreeBSD 3G</a></li>
<li><a href="#org93f6cd9">88. Non-interactive shell and interactive shell, login shell, non-login shell.</a></li>
<li><a href="#org13913a5">89. Add new <code>tmux.conf</code> file for FreeBSD. Apparently the <code>tmux.conf</code> file is not working on MacOS.</a></li>
<li><a href="#orgd10e682">90. Fixed: Javadoc long term error: can not find methods. Javadoc Reference Guide</a></li>
<li><a href="#org2822cc6">91. Add iterate all files from dir and insert them into table: test1.snippet</a></li>
<li><a href="#org3e6428f">92. Add isFile and isDir to javalib AronLib.java</a></li>
<li><a href="#orgd2fcc88">93. Database ACID</a></li>
<li><a href="#org0b83991">94. Fixed bug: send pdf file to browser and force the browser to open it. What request header I should use?</a></li>
<li><a href="#org021abd8">95. Add code to display all PDF files from a directory in Wai Server.</a></li>
<li><a href="#org9eda2c7">96. Wai API for query string, it is nice function to match string from client</a></li>
<li><a href="#org3031b99">97. Understand logic implication table</a></li>
<li><a href="#org359ef39">98. Why Lombok sucks? please read the Reddit Lombok in Reddit</a></li>
<li><a href="#orgfd0bc2d">99. Haskell code to generate latex code tryfm.hs</a></li>
<li><a href="#org38ef642">100. Anonymous function in c++ and Lambda function in Haskell.</a></li>
<li><a href="#org89838ba">101. C++ return by reference or return by value.</a></li>
<li><a href="#org4a874ec">102. Passed by reference and value or const reference</a></li>
<li><a href="#orgb735ef0">103. Find the square root of a float point number: \(n\)</a></li>
<li><a href="#orgb384ed8">104. Find the nth root of a float point number: \(c\)</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgb105c2c" class="outline-2">
<h2 id="orgb105c2c"><span class="section-number-2">1</span> Haskell <b>Text.RawString.QQ</b> is useful for Html, Sql and Regular expression.</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Use Haskell package <b>Text.RawString.QQ</b> to simplify Html multiple lines in Haskell</li>
<li>Need LANGUAGE <b>QuasiQuotes</b> too</li>
<li><a href="http://hackage.haskell.org/package/raw-strings-qq-1.1/docs/Text-RawString-QQ.html">RawString QQ Example</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #808080;">{-# LANGUAGE QuasiQuotes       #-}</span>
<span style="color: #006699;">package</span> <span style="color: #6434A3;">Text.RawString.QQ</span>

<span style="color: #006699;">multipline</span> <span style="color: #BA36A5;">=</span> [r|<span style="color: #333333; background-color: #FFFFFF;"> </span>
<span style="color: #333333; background-color: #FFFFFF;">             &lt;p&gt;</span><span style="color: #008000;">"dog"</span><span style="color: #333333; background-color: #FFFFFF;">&lt;/p&gt;</span>
<span style="color: #333333; background-color: #FFFFFF;">             &lt;p&gt;</span><span style="color: #008000;">"cat"</span><span style="color: #333333; background-color: #FFFFFF;">&lt;/p&gt;</span>
<span style="color: #333333; background-color: #FFFFFF;">             |</span>]
</pre>
</div>
<ul class="org-ul">
<li><p>
Added code to process background process in Shell from Web Input in wai server
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #008000;">"x nohup filewatcher &amp;"</span> 
</pre>
</div></li>
<li>ghci does not load package into Ghci if you use :load myhaskell.hs
It causes lots of confusing when you load your code inside ghci</li>
</ul>
</div>
</div>
<div id="outline-container-org47c7d4d" class="outline-2">
<h2 id="org47c7d4d"><span class="section-number-2">2</span> There is issue when stack build WaiLib.hs</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>I can build WaiLib.hs with <b>GHC</b>, but there is error with <b>Text.RawString.QQ</b> code when <b>stack build</b> is used.</li>
<li>Have no idea what is going on.</li>
</ul>
</div>
</div>
<div id="outline-container-orga7a5e0a" class="outline-2">
<h2 id="orga7a5e0a"><span class="section-number-2">3</span> Added Javascript to edit code block</h2>
<div class="outline-text-2" id="text-3">
<ol class="org-ol">
<li>Added Javascript to listen to onclick event, e.g. enable/disable TextArea visibility</li>
<li>Hide header to TextArea with css <code>display:none</code></li>
<li>Generate id for each code block in TextArea</li>
<li>Go through each code block and remove the edited code block from a list</li>
<li>Append the edited the code block to the new list</li>
</ol>
</div>
</div>

<div id="outline-container-orgabe0198" class="outline-2">
<h2 id="orgabe0198"><span class="section-number-2">4</span> MacOS automatically update screws up <b>tmux</b></h2>
<div class="outline-text-2" id="text-4">
<ol class="org-ol">
<li><b>tmux</b> can not start up
<ul class="org-ul">
<li><p>
reinstall tmux:
</p>
<div class="org-src-container">
<pre class="src src-bash">brew uninstall --force tmux
brew install tmux
</pre>
</div></li>
</ul></li>
</ol>



<p>
<b>`'</b>  ` `dd vim script to check definition of Haskell function with Timer and <code>job_start()</code>
</p>
<ol class="org-ol">
<li>Create a timer which calls a function every n seconds, e.g. 0.5 second <code>timer_start()</code></li>
<li>The function contains code to start a job or process in background and query a value from key-value <b>Redis server</b> <code>redis_query.hs</code>
The key is the current <b>word</b> under current <b>cursor</b></li>
<li>The function calls <code>systemlist()</code> and passes <code>$b/redis_query.hs</code> as an argument and gets the <b>return list</b> which contains the values from <b>Redis server</b></li>
<li>Use <code>echo</code> to display the <b>return list</b> at the bottom of <b>Vim</b></li>
</ol>
</div>
</div>

<div id="outline-container-orgb3b02d8" class="outline-2">
<h2 id="orgb3b02d8"><span class="section-number-2">5</span> Haskell show, print and putStr or putStrLn</h2>
<div class="outline-text-2" id="text-5">
<ol class="org-ol">
<li><p>
show, print and putStr <code>"dog\\"</code>,
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #006699;">show</span> <span style="color: #008000;">"dog\\"</span> <span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">"\"dog\\\\\""</span>
<span style="color: #006699;">print</span> <span style="color: #008000;">"dog\\"</span> <span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">"dog\\"</span>
<span style="color: #006699;">putStr</span> <span style="color: #008000;">"dog\\"</span> <span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">dog\</span>
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-orgd2f43f5" class="outline-2">
<h2 id="orgd2f43f5"><span class="section-number-2">6</span> Add wai-uil to wai.hs Server for redirecting response URI</h2>
<div class="outline-text-2" id="text-6">
<ol class="org-ol">
<li>Install wai-uti with <code>cabal install wai-uti</code></li>
<li>Using <code>response &lt;&lt;= redirect' status302 [] uri where Just uri = parseURI "http://newuri.com"</code>
<a href="https://bitbucket.org/zsurface/haskell_webapp/src/master/wai.hs">wai.hs</a></li>
</ol>
</div>
</div>

<div id="outline-container-org0aad751" class="outline-2">
<h2 id="org0aad751"><span class="section-number-2">7</span> Solve "Insert a node into a binary tree", it seems to be an easy question, but it is tricky to get it right on the first try.</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>Two ways to solve the problem.
<ol class="org-ol">
<li>Use <b>Iteration</b> with <code>while</code>
<ul class="org-ul">
<li>Start from the root node as current node.
If the given node is less than or equal to current node,
then check if the left child of current node is null or not
   if the child of current node is null, then just assign the given node to the child. Done
   else using <code>tmp = tmp.left</code> to goto next child of current node.
otherwise repeat the same thing in the right subtree.</li>
</ul></li>
<li>Use <b>Recursion</b>, it is almost the same as Iteration as above, but the root needs to be outside of the method.</li>
</ol></li>
<li>Use recusion is <b>tricky</b> because if the root node is null, then root node can not be modified inside a method.</li>
<li><p>
The best way to do is to use <b>Iteration</b>
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">Iteration</span>
<span style="color: #0000FF;">public</span> <span style="color: #0000FF;">static</span> <span style="color: #6434A3;">void</span> <span style="color: #006699;">insert</span>(<span style="color: #6434A3;">Node</span> <span style="color: #BA36A5;">node</span>){
    <span style="color: #6434A3;">Node</span> <span style="color: #BA36A5;">curr</span> = root;
    <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">left subtree</span>
    <span style="color: #0000FF;">if</span>(node.data &lt;= curr.data){
        <span style="color: #0000FF;">if</span>(curr.left == <span style="color: #D0372D;">null</span>)
            curr.left = node;
        <span style="color: #0000FF;">else</span>
            curr = curr.left;
    }<span style="color: #0000FF;">else</span>{
        <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">right subtree</span>
        <span style="color: #0000FF;">if</span>(curr.right == <span style="color: #D0372D;">null</span>)
            curr.right = node;
        <span style="color: #0000FF;">else</span>
            curr = curr.right;
    }
}

<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">Recursion</span>
<span style="color: #0000FF;">public</span> <span style="color: #0000FF;">static</span> <span style="color: #6434A3;">void</span> <span style="color: #006699;">insert</span>(<span style="color: #6434A3;">Node</span> <span style="color: #BA36A5;">root</span>, <span style="color: #6434A3;">Node</span> <span style="color: #BA36A5;">node</span>){
    <span style="color: #0000FF;">if</span>(root != <span style="color: #D0372D;">null</span>){
        <span style="color: #0000FF;">if</span>(node.data &lt;= root.data){
            <span style="color: #0000FF;">if</span>(root.left == <span style="color: #D0372D;">null</span>)
                root.left = node;
            <span style="color: #0000FF;">else</span>
                insert(root.left, node);
        }<span style="color: #0000FF;">else</span>{
            <span style="color: #0000FF;">if</span>(root.right == <span style="color: #D0372D;">null</span>)
                root.right = node;
            <span style="color: #0000FF;">else</span>
                insert(root.right, node);
        }
    }
}
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc2daa87" class="outline-2">
<h2 id="orgc2daa87"><span class="section-number-2">8</span> <span class="done DONE">DONE</span> Hair cut</h2>
<div class="outline-text-2" id="text-8">
<ol class="org-ol">
<li>17$ for the stupid hair cut.</li>
</ol>
</div>
</div>
<div id="outline-container-org0992fe6" class="outline-2">
<h2 id="org0992fe6"><span class="section-number-2">9</span> <span class="done DONE">DONE</span> Added three buttons: add, update and delete to wai.hs</h2>
<div class="outline-text-2" id="text-9">
<ol class="org-ol">
<li>There is an issue in <code>runSh</code> function. For example. For instance, "mv" command does not work properly.</li>
</ol>
</div>
</div>
<div id="outline-container-org7261548" class="outline-2">
<h2 id="org7261548"><span class="section-number-2">10</span> <span class="done DONE">DONE</span> Do my laundry</h2>
<div class="outline-text-2" id="text-10">
</div>
</div>
<div id="outline-container-orgf4c193a" class="outline-2">
<h2 id="orgf4c193a"><span class="section-number-2">11</span> <span class="done DONE">DONE</span> Install Vim 8.1.135, and fix symbol link with the Vim syntax.vim file error</h2>
<div class="outline-text-2" id="text-11">
</div>
</div>
<div id="outline-container-orgef97f19" class="outline-2">
<h2 id="orgef97f19"><span class="section-number-2">12</span> <span class="done DONE">DONE</span> Try to understand Visitor pattern in Java and Haskell Algebraic Datatypes</h2>
<div class="outline-text-2" id="text-12">
</div>
</div>
<div id="outline-container-org8e78f1e" class="outline-2">
<h2 id="org8e78f1e"><span class="section-number-2">13</span> <span class="done DONE">DONE</span> Add Redirect response to wai.hs with wai-uti</h2>
<div class="outline-text-2" id="text-13">
</div>
</div>
<div id="outline-container-org7c1943b" class="outline-2">
<h2 id="org7c1943b"><span class="section-number-2">14</span> <span class="done DONE">DONE</span> pushall respositories to bitbucket</h2>
<div class="outline-text-2" id="text-14">
</div>
</div>
<div id="outline-container-orge81405b" class="outline-2">
<h2 id="orge81405b"><span class="section-number-2">15</span> <span class="done DONE">DONE</span> fix resume a bit</h2>
<div class="outline-text-2" id="text-15">
</div>
</div>
<div id="outline-container-orgf19a002" class="outline-2">
<h2 id="orgf19a002"><span class="section-number-2">16</span> <span class="todo TODO">TODO</span> Need to add more detail to resume</h2>
</div>
<div id="outline-container-org03964df" class="outline-2">
<h2 id="org03964df"><span class="section-number-2">17</span> <span class="todo TODO">TODO</span> Buy a new pot and buy some rice</h2>
</div>
<div id="outline-container-org8cf571f" class="outline-2">
<h2 id="org8cf571f"><span class="section-number-2">18</span> <span class="done DONE">DONE</span> Open new paypal account</h2>
<div class="outline-text-2" id="text-18">
</div>
</div>
<div id="outline-container-orgdb3908e" class="outline-2">
<h2 id="orgdb3908e"><span class="section-number-2">19</span> <span class="done DONE">DONE</span> Add color to wai.hs to highlight the current edited code block</h2>
<div class="outline-text-2" id="text-19">
<ol class="org-ol">
<li>when current code block is clicked, change the background of pre</li>
<li>Need a different pre for the current code block because all the pre use the same style.</li>
<li>Add new class name, and id to pre tags and rename the class name when the code block is clicked.</li>
</ol>
</div>
</div>

<div id="outline-container-orgbde3948" class="outline-2">
<h2 id="orgbde3948"><span class="section-number-2">20</span> <span class="done DONE">DONE</span> Send out more resumes</h2>
<div class="outline-text-2" id="text-20">
</div>
</div>
<div id="outline-container-org9d77ab6" class="outline-2">
<h2 id="org9d77ab6"><span class="section-number-2">21</span> <span class="todo TODO">TODO</span> Do some java coding</h2>
<div class="outline-text-2" id="text-21">
<ul class="org-ul">
<li>Rotate square array to left/right 90 degrees.</li>
<li>Balance brackets.</li>
<li>Rotate spiral rectangle.</li>
<li>Insert a node into a binary tree.</li>
<li>Find all the nodes that are distance k from a given node</li>
<li>Check whether a node is in the binary tree or not</li>
<li>Single linked, append, addFront and remove operations, it seems to be working</li>
<li>Added html file filter to genehtml.hs to avoid error when genehtml reads non-html file.</li>
<li>Implement insect operation for HashMap with array and single linkedlist.
<ol class="org-ol">
<li>Remember to increase the count if a node is inserted</li>
<li>If hash key collision occurs, then the value needs to be checked whether it is in the list</li>
<li>When walking through the list, previous node need to be kept.</li>
<li>Before the insection, count need to be check whether it less than the <b>max</b> size.</li>
</ol></li>
<li>Implement <b>HashMap</b> insect operation using binary tree.</li>
<li>Check a binary tree is whether a <b>BST</b>.
<ol class="org-ol">
<li>Use backtrack.</li>
<li>Use <b>BST</b> definition.</li>
</ol></li>
<li><p>
Added PriorityQueue code example, <code>java.util.PriorityQueue</code>, and use lambda for comparatoin,.
Add code using <code>Comparable&lt;Person&gt;</code> and <code>Comparator&lt;Person&gt;</code>
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #0000FF;">class</span> <span style="color: #6434A3;">Person</span>{
    <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">firstName</span>;
    <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">lastName</span>;
    <span style="color: #0000FF;">public</span> <span style="color: #006699;">Person</span>(<span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">f</span>, <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">l</span>){
        <span style="color: #0000FF;">this</span>.firstName = f;
        <span style="color: #0000FF;">this</span>.lastName = l;
    }
}

<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">second implementation</span>
<span style="color: #0000FF;">class</span> <span style="color: #6434A3;">Person</span> <span style="color: #0000FF;">implements</span> <span style="color: #6434A3;">Comparable</span>&lt;<span style="color: #6434A3;">Person</span>&gt;{
    <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">firstName</span>;
    <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">lastName</span>;
    <span style="color: #0000FF;">public</span> <span style="color: #006699;">Person</span>(<span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">f</span>, <span style="color: #6434A3;">String</span> <span style="color: #BA36A5;">l</span>){
        <span style="color: #0000FF;">this</span>.firstName = f;
        <span style="color: #0000FF;">this</span>.lastName = l; 
    }
    <span style="color: #0000FF;">public</span> <span style="color: #6434A3;">int</span> <span style="color: #006699;">compareTo</span>(<span style="color: #6434A3;">Person</span> <span style="color: #BA36A5;">other</span>){
        <span style="color: #0000FF;">return</span> <span style="color: #0000FF;">this</span>.firstName.compareTo(other.firstName);
    }
}

<span style="color: #6434A3;">PriorityQueue</span> <span style="color: #BA36A5;">queue</span> = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">PriorityQueue</span>((\a, b) -&gt; a.firstName.compareTo(b.firstName));
queue.add(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">Person</span>(<span style="color: #008000;">"David"</span>, <span style="color: #008000;">"lee"</span>));
queue.add(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">Person</span>(<span style="color: #008000;">"Tommy"</span>, <span style="color: #008000;">"kee"</span>));
queue.add(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">Person</span>(<span style="color: #008000;">"Jacky"</span>, <span style="color: #008000;">"kuu"</span>));
<span style="color: #0000FF;">while</span>(!queue.isEmpty()){
    <span style="color: #6434A3;">Person</span> <span style="color: #BA36A5;">p</span> = queue.remove();
    System.out.print(p.firstName);
}

<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">use Comparator interface,                                </span>
<span style="color: #0000FF;">class</span> <span style="color: #6434A3;">PersonCmp</span> <span style="color: #0000FF;">implements</span> <span style="color: #6434A3;">Comparator</span>&lt;<span style="color: #6434A3;">Person</span>&gt;{             
    <span style="color: #0000FF;">public</span> <span style="color: #6434A3;">int</span> <span style="color: #006699;">compare</span>(<span style="color: #6434A3;">Person</span> <span style="color: #BA36A5;">p1</span>, <span style="color: #6434A3;">Person</span> <span style="color: #BA36A5;">p2</span>){             
        <span style="color: #0000FF;">return</span> p1.firstName.compareTo(p2.firstName);        
    }                                                     
}                                                          
Collections.sort(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">PersonCmp</span>());                         
</pre>
</div></li>
<li>Added merge two sorted lists.</li>
<li>Added Lease Recent Used code.</li>
<li>Added Double linked List, delete, append and insertFront.</li>
<li>Read file line by line and split them.</li>
<li><p>
Serialize and deserialize binary tree with map.
</p>
<ul class="org-ul">
<li>Use map with \( k=0, 2*k + 1, 2*k + 2, \dots \) to index binary node.</li>
<li>File, <b>BufferedReader</b> and <b>BufferedWriter</b> <code>BufferedReader br = new BufferedReader(new FileReader(fname))</code></li>
<li>Use <b>preorder</b> traveral to write all the keys and nodes to a file.</li>
</ul>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #0000FF;">public</span> <span style="color: #6434A3;">void</span> <span style="color: #006699;">serialize</span>(<span style="color: #6434A3;">Node</span> <span style="color: #BA36A5;">curr</span>, <span style="color: #6434A3;">Integer</span> <span style="color: #BA36A5;">k</span>, <span style="color: #6434A3;">BufferedWriter</span> <span style="color: #BA36A5;">bw</span>){
    <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">preorder traveral</span>
    <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">handle IOException here</span>
    <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">k=0, k=1, k=2, k=3 ...</span>
    bw.write(k + <span style="color: #008000;">" "</span> + curr.data + <span style="color: #008000;">"\n"</span>);
    serialize(curr.left, 2*k + 1);
    serialize(curr.right, 2*k + 2);
}

<span style="color: #0000FF;">public</span> <span style="color: #6434A3;">Node</span> <span style="color: #006699;">deserialize</span>(<span style="color: #6434A3;">Integer</span> <span style="color: #BA36A5;">k</span>, <span style="color: #6434A3;">Map</span>&lt;<span style="color: #6434A3;">Integer</span>, <span style="color: #6434A3;">Integer</span>&gt; <span style="color: #BA36A5;">map</span>){
    <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">handle IOException here</span>
    <span style="color: #6434A3;">Integer</span> <span style="color: #BA36A5;">v</span> = map.get(k);
    <span style="color: #0000FF;">if</span>(v != <span style="color: #D0372D;">null</span>){
        <span style="color: #6434A3;">Node</span> <span style="color: #BA36A5;">root</span> = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">Node</span>(v);
        root.left = deserialize(2*k + 1, map);
        root.right = deserialize(2*k + 2, map);
        <span style="color: #0000FF;">return</span> root;
    }
    <span style="color: #0000FF;">return</span> <span style="color: #D0372D;">null</span>;
}
<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">other implementation, use iteration for preorder traveral to read node from file, and build the tree</span>
</pre>
</div>
<ul class="org-ul">
<li>Use <b>preorder</b> traveral from map and build a tree <b>from bottom and up</b>.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org083e3db" class="outline-2">
<h2 id="org083e3db"><span class="section-number-2">22</span> <span class="todo TODO">TODO</span> Take a look at the Algebraic Data Type and Visitor pattern in Java</h2>
<div class="outline-text-2" id="text-22">
<p>
<a href="https://www.ahnfelt.net/monads-forget-about-bind/">URL</a>
</p>
</div>
</div>
<div id="outline-container-org611b842" class="outline-2">
<h2 id="org611b842"><span class="section-number-2">23</span> <span class="done DONE">DONE</span> Send out more resume,  more to EA</h2>
<div class="outline-text-2" id="text-23">
</div>
</div>
<div id="outline-container-org753c8d6" class="outline-2">
<h2 id="org753c8d6"><span class="section-number-2">24</span> <span class="done DONE">DONE</span> Add Applescript to send notification when filewatcher detects some txt file inside password folder.</h2>
<div class="outline-text-2" id="text-24">
</div>
</div>
<div id="outline-container-orgec0bcb4" class="outline-2">
<h2 id="orgec0bcb4"><span class="section-number-2">25</span> <span class="done DONE">DONE</span> Finally figure out how to use multiple putStrLn in Agda</h2>
<div class="outline-text-2" id="text-25">
</div>
</div>

<div id="outline-container-org472f1cb" class="outline-2">
<h2 id="org472f1cb"><span class="section-number-2">26</span> <span class="done DONE">DONE</span> Refactor filewatcher.hs, remove IORef, clean up useless code</h2>
<div class="outline-text-2" id="text-26">
</div>
</div>
<div id="outline-container-org00936f0" class="outline-2">
<h2 id="org00936f0"><span class="section-number-2">27</span> <span class="done DONE">DONE</span> Added double click event: <code>ondblclick</code> to javascript file inside <code>wai.hs</code> to improve user experience.</h2>
</div>
<div id="outline-container-orgbce6d09" class="outline-2">
<h2 id="orgbce6d09"><span class="section-number-2">28</span> <span class="done DONE">DONE</span> Finished Osense intervew take-home assignment.</h2>
<div class="outline-text-2" id="text-28">
<ol class="org-ol">
<li>Used the C standard library only to implement a console application which reads a CSV file and displays some statistical temperature information to users.
<ul class="org-ul">
<li>Read a CSV (comma-separated value) file line by line.</li>
<li>Allocate memory to store all the temperatures in an array.</li>
<li>Implement a quick sort function to sort the array.</li>
<li>Statistical temperature information such as mean, median, min, max and standard deviation can be computed from a sorted array.</li>
</ul></li>
</ol>
</div>
</div>
<div id="outline-container-org482b8ab" class="outline-2">
<h2 id="org482b8ab"><span class="section-number-2">29</span> <span class="done DONE">DONE</span> Wrote a shell script to simplify gcc compilation process. <code>$scr/gcc_compile.sh</code></h2>
</div>
<div id="outline-container-org8173fd9" class="outline-2">
<h2 id="org8173fd9"><span class="section-number-2">30</span> <span class="done DONE">DONE</span> Fixed an issue where is special characters are not escaped properly.</h2>
</div>
<div id="outline-container-org2d5572b" class="outline-2">
<h2 id="org2d5572b"><span class="section-number-2">31</span> <span class="done DONE">DONE</span> Xencall call HR interview</h2>
<div class="outline-text-2" id="text-31">
<ul class="org-ul">
<li>What did you do in Amazon?</li>
<li>Do you know PHP, CSS and Javascript?</li>
</ul>
</div>
</div>
<div id="outline-container-orge95a7db" class="outline-2">
<h2 id="orge95a7db"><span class="section-number-2">32</span> I worked on an pplication to generate report for accounting department in EU.</h2>
<div class="outline-text-2" id="text-32">
<ul class="org-ul">
<li>The applicaiton was querying data from database such as customer information.</li>
<li>The applicaiton processes the data according to some accounting information and generate reports from them.</li>
<li>The report stores in S3 which is Amazon file storage,</li>
<li>The accounting department team can download these reports from S3.</li>
<li>Technologies that we used:</li>
<li>The application is Java based.</li>
<li>We use:</li>
<li>Hibernate which is for data modeling</li>
<li>Spring which is an Java application framework</li>
</ul>
</div>
</div>
<div id="outline-container-org2a67288" class="outline-2">
<h2 id="org2a67288"><span class="section-number-2">33</span> In VoiceBox Inc.</h2>
<div class="outline-text-2" id="text-33">
<ul class="org-ul">
<li>Development application to generate nature language in English.</li>
<li>The application generate sentences from a set of rules.</li>
<li>e.g. What is the temperature in Vancouver Today,</li>
<li>Vancouver is a city, and</li>
<li>The set of rules is like "What is the temperature in City today"</li>
<li>What is the intentation of user?</li>
<li>For example, do I need a jacket today?</li>
</ul>
</div>
</div>
<div id="outline-container-orgbe7f259" class="outline-2">
<h2 id="orgbe7f259"><span class="section-number-2">34</span> iOS development</h2>
<div class="outline-text-2" id="text-34">
<ul class="org-ul">
<li>Development iOS application to encrypt files and images</li>
<li>Sync data from Dropbox such as files and images.</li>
<li>The application is ObjectiveC based.</li>
</ul>
</div>
</div>
<div id="outline-container-org5ad040b" class="outline-2">
<h2 id="org5ad040b"><span class="section-number-2">35</span> <span class="done DONE">DONE</span> Interview with expa.com</h2>
<div class="outline-text-2" id="text-35">
<ul class="org-ul">
<li>Tell me a little bit about yourself.</li>
<li>What did you do in Amazon?</li>
<li>Problem solving</li>
<li><p>
Find a maximum profit from a given list of trade prices.
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #6434A3;">int</span> <span style="color: #006699;">findMax</span>(<span style="color: #6434A3;">int</span>[] <span style="color: #BA36A5;">arr</span>){
    <span style="color: #6434A3;">int</span> <span style="color: #BA36A5;">max</span> = 0;
    <span style="color: #0000FF;">for</span>(<span style="color: #6434A3;">int</span> <span style="color: #BA36A5;">i</span>=0; i&lt;<span style="color: #6434A3;">len</span>; i++){
        <span style="color: #0000FF;">for</span>(<span style="color: #6434A3;">int</span> <span style="color: #BA36A5;">j</span>=i+1; j&lt;<span style="color: #6434A3;">len</span>; j++){
            <span style="color: #6434A3;">int</span> <span style="color: #BA36A5;">diff</span> = arr[j] - arr[i];
            <span style="color: #0000FF;">if</span>(diff &gt; max){
                max = diff;
            }
        }
    }
    <span style="color: #0000FF;">return</span> max;
}
</pre>
</div></li>
<li><p>
Sort a list contains only \(\{-1, 0, 1\}\) in \(\mathcal{O}(n)\) time.
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt; <span style="color: #006699;">sort</span>(<span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt; <span style="color: #BA36A5;">ls</span>){
    <span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt; <span style="color: #BA36A5;">ret</span> = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">ArrayList</span>&lt;&gt;();
    <span style="color: #6434A3;">Map</span>&lt;<span style="color: #6434A3;">Integer</span>, <span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt;&gt; <span style="color: #BA36A5;">map</span> = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">HashMap</span>&lt;&gt;();
    <span style="color: #0000FF;">for</span>(<span style="color: #6434A3;">Integer</span> <span style="color: #BA36A5;">n</span> : ls){
        <span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt; <span style="color: #BA36A5;">v</span> = map.get(n);
        <span style="color: #0000FF;">if</span>(v == <span style="color: #D0372D;">null</span>){
            v = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt;();
        }
        v.add(n);
        map.put(n, v);
    }

    <span style="color: #0000FF;">for</span>(<span style="color: #6434A3;">Integer</span> <span style="color: #006699;">n</span> : Arrays.asList(-1, 0, 1)){
        <span style="color: #6434A3;">List</span>&lt;<span style="color: #6434A3;">Integer</span>&gt; <span style="color: #BA36A5;">ls</span> = map.get(n);
        <span style="color: #0000FF;">if</span>(ls != <span style="color: #D0372D;">null</span>){
            ret.addAll(ls);
        }
    }
    <span style="color: #0000FF;">return</span> ret;
}
</pre>
</div></li>
<li>It turned to be those people in expa.com never response me any interview result.</li>
</ul>
</div>
</div>

<div id="outline-container-org08ab6b4" class="outline-2">
<h2 id="org08ab6b4"><span class="section-number-2">36</span> <span class="done DONE">DONE</span> Implement <b>Eight Queens</b> problem in Haskell</h2>
<div class="outline-text-2" id="text-36">
<ul class="org-ul">
<li>Functions that use in the code
<ul class="org-ul">
<li>Sum the left and right diagonals of a matrix.</li>
<li>Validate each move whether it is valid or not.</li>
<li>Function to modify element in 2d matrix.</li>
<li><p>
Recursion function to find ONE solution.
</p>
<div class="org-src-container">
<pre class="src src-bash">/Users/cat/myfile/bitbucket/haskell/eightQueen.hs
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgdc89c36" class="outline-2">
<h2 id="orgdc89c36"><span class="section-number-2">37</span> <span class="done DONE">DONE</span> Added code: Post Html form, and retrieve data from Html Input box, insert data to Sqlite-simple DB.</h2>
</div>
<div id="outline-container-org0b781ee" class="outline-2">
<h2 id="org0b781ee"><span class="section-number-2">38</span> <span class="done DONE">DONE</span> Added code: Integrate Sqlite-simple to wai.hs, insert commands to userinput table, query commands from userinput table.</h2>
</div>
<div id="outline-container-org493d4e7" class="outline-2">
<h2 id="org493d4e7"><span class="section-number-2">39</span> <span class="done DONE">DONE</span> Refactored code: Clearn up some unnecessary code.</h2>
</div>
<div id="outline-container-orgfee7787" class="outline-2">
<h2 id="orgfee7787"><span class="section-number-2">40</span> <span class="done DONE">DONE</span> A guy asks me to meet as Benze Coffee around Hamilton St. and Helmcken St. from a company called Linquet.com</h2>
<div class="outline-text-2" id="text-40">
<ul class="org-ul">
<li>Not sure what I will expect</li>
</ul>
</div>
</div>
<div id="outline-container-orgab706c6" class="outline-2">
<h2 id="orgab706c6"><span class="section-number-2">41</span> <span class="done DONE">DONE</span> Integrate Ajax to wai.hs, send Json data to Server, and get response from Server in client side.</h2>
</div>
<div id="outline-container-org553f4b5" class="outline-2">
<h2 id="org553f4b5"><span class="section-number-2">42</span> <span class="done DONE">DONE</span> I has an interview with Xencall today.</h2>
<div class="outline-text-2" id="text-42">
<ul class="org-ul">
<li>They gave me the wrong Google map address, I think the HR never bother to check it before.</li>
<li>When I went to their office, they asked me to do some css, Javascript and Php questions.</li>
<li>I just walked out their office:)</li>
</ul>
</div>
</div>
<div id="outline-container-org1e9c302" class="outline-2">
<h2 id="org1e9c302"><span class="section-number-2">43</span> <span class="done DONE">DONE</span> Interview with a company called Impact Recruitment last Friday.</h2>
<div class="outline-text-2" id="text-43">
<ul class="org-ul">
<li>When I went to their office, a woman called Grace Mok came out to meet me.</li>
<li>I realized they are just a recruitment company.</li>
<li>She asked me a few questions about my resume. What did you do in this company?</li>
<li>I think she realized I'm not very happy about this interview because she never tell me she is just a recruitment company.</li>
<li>The company web site is not even working propertly. It is just a BS company.</li>
</ul>
</div>
</div>
<div id="outline-container-org302e124" class="outline-2">
<h2 id="org302e124"><span class="section-number-2">44</span> Download Vertex Buffer Object(VBO) and play around it.</h2>
<div class="outline-text-2" id="text-44">
<ul class="org-ul">
<li>I download an example and put it in <code>$b/opengl/vboCube</code>.</li>
<li>After I commented out a few line of code, I can compile it successfully.</li>
<li><p>
There are a few steps to create Vertex Buffer Object in OpenGL.
</p>
<ul class="org-ul">
<li>Generate buffer object's name.</li>
<li>Bind a name buffer object.</li>
<li>Creats and initializes a buffer object's data store.</li>
<li>Delete Buffer.</li>
<li><a href="file:///Users/cat/myfile/bitbucket/opengl/vboCube/src">VBO Example</a></li>
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/es2.0/xhtml/glGenBuffers.xml">glGenBuffer</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-c++">glGenBuffer(<span style="color: #6434A3;">GLsize</span> <span style="color: #BA36A5;">n</span>, <span style="color: #6434A3;">GLunit</span>* <span style="color: #BA36A5;">buffers</span>)
</pre>
</div>
<ul class="org-ul">
<li>Bind a named buffer object.</li>
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glBindBuffer.xhtml">glBindBuffer</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-c++">glBindBuffer(<span style="color: #6434A3;">Glenum</span> <span style="color: #BA36A5;">target</span>, <span style="color: #6434A3;">GLunit</span> <span style="color: #BA36A5;">buffer</span>)
</pre>
</div>
<ul class="org-ul">
<li>Creates and initializes a buffer object's data store.</li>
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glBufferData.xhtml">glBufferData</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-c++">glBufferData(<span style="color: #6434A3;">GLenum</span> <span style="color: #BA36A5;">target</span>, <span style="color: #6434A3;">GLsizept</span> <span style="color: #BA36A5;">size</span>, <span style="color: #0000FF;">const</span> <span style="color: #6434A3;">GLvoid</span>* <span style="color: #BA36A5;">data</span>, <span style="color: #6434A3;">GLenum</span> <span style="color: #BA36A5;">usage</span>)
</pre>
</div>
<ul class="org-ul">
<li>Delete Buffer.</li>
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/es2.0/xhtml/glDeleteBuffers.xml">glDeleteBuffers</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-c++">glDeleteBuffers(<span style="color: #6434A3;">GLsize</span> <span style="color: #BA36A5;">n</span>, <span style="color: #0000FF;">const</span> <span style="color: #6434A3;">GLunit</span>* <span style="color: #BA36A5;">buffers</span>)

<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">delete vertex buffer objects before your code exits.</span>
<span style="color: #6434A3;">GLsize</span> <span style="color: #BA36A5;">vboId</span> = 0;
glDeleteBuffers(1, &amp;vboId);
<span style="color: #6434A3;">GLsize</span> <span style="color: #BA36A5;">iboId</span> = 0;
glDeleteBuffers(1, &amp;iboId);
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org49eb3d6" class="outline-2">
<h2 id="org49eb3d6"><span class="section-number-2">45</span> <span class="done DONE">DONE</span> Interview with Eletronic Art.</h2>
<div class="outline-text-2" id="text-45">
<ul class="org-ul">
<li>They did not ask me any technical problem.</li>
<li>I talked to Aron Brown and Jeremy Coolidge(UFC Software Engineer) from EA yesterday.</li>
<li>They asked me What did I do in Amazon and VoiceBox Inc.</li>
<li>How did you solve some hard problems.</li>
<li>How did you optimize some applicaitons.</li>
<li>What database did you use?</li>
<li>Do you play game?</li>
<li>They described a bit about their team such as the tools they used in EA.</li>
</ul>
</div>
</div>
<div id="outline-container-org56ed00f" class="outline-2">
<h2 id="org56ed00f"><span class="section-number-2">46</span> <span class="done DONE">DONE</span> Implement Javascript editor with CSS.</h2>
<div class="outline-text-2" id="text-46">
<ul class="org-ul">
<li>It is hard to implement text editor.</li>
<li>I use TextArea and Pre, and compose both of them so that I can highlight text and keep tracking the cursor movement.</li>
<li>I changed <code>pre</code> to <code>div</code> for rendering the text today.</li>
<li>There is still an issue on the <b>cursor</b> or <b>caret</b>. Apparently there is no easy way to change the size of cursor or caret in <b>TextArea</b>.</li>
<li><p>
Optimize the rendering code a bit today.
</p>
<ul class="org-ul">
<li>Use <b>Javascript</b> <code>var map = Map()</code> to store all the lines.</li>
<li>When a user starts to edit the text, the line number will be detected. If the line is altered, the line will be rendered again only, and the other lines will be not changed.</li>
</ul>
<p>
The cursor on the editor is from the bottom of <b>TextArea</b>. The <b>cursor</b> is not very obvious but it can be seen if you look at it carefully.
</p>
<ul class="org-ul">
<li>What did I learn from it today?
<ul class="org-ul">
<li>You can <b>overlap</b> two *div*s together.</li>
<li>You can disable the top layer of <b>div</b> <b>event</b> so that the <b>event</b> can be passed to the bottom of <b>div</b>.</li>
<li>You can enable <b>div</b> to be editable with <code>contenteditable='true'</code>.</li>
<li>You can hide <b>div</b> with <code>display:none</code>.</li>
<li>You can add <b>CSS</b> variables with <code>--myvariable : 100</code> and use it somewhere in your code like <code>var(--myvariable)</code></li>
<li>Use some <b>event</b> in <b>Javascript</b> such as <code>onkeyup, onkeydown, onclick</code></li>
</ul></li>
</ul>
<ul class="org-ul">
<li>The editor supports <b>C++</b> and <b>Haskell</b> so far.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgc21e670" class="outline-2">
<h2 id="orgc21e670"><span class="section-number-2">47</span> <span class="done DONE">DONE</span> Create new profile in Iterm2</h2>
<div class="outline-text-2" id="text-47">
<ul class="org-ul">
<li>Goto <b>Reference</b></li>
<li>Click on <b>Profile</b></li>
<li>Add a profile name.</li>
<li><a href="http://localhost/image/Iterm2_profile.png">Iterm2 Profile</a></li>
</ul>
</div>
</div>
<div id="outline-container-org32ff8ef" class="outline-2">
<h2 id="org32ff8ef"><span class="section-number-2">48</span> I have onsite interview today with EA, I will meet a technical director Jun Wang and Kelly Tainton and Aron Brown and Chris Olson.</h2>
<div class="outline-text-2" id="text-48">
<ul class="org-ul">
<li>I have no idea what to expect, whatever.</li>
<li>Jun Wang asked me lots of C++ questions such as what is <b>Virtual</b> keyboard, what is smart pointer, how does it implement it?
<ul class="org-ul">
<li>They guy also asked me many <b>Sql</b> questions:
<ul class="org-ul">
<li>What is <b>join</b>, what is <b>left join</b>, what is right <b>right join</b>, what is difference between <b>left join</b> and <b>right join</b>?
<ul class="org-ul">
<li>I have no idea what is the difference between <b>left join</b> and <b>right join</b>.</li>
<li>I think I need to upgrade some <b>Sql</b> note. <a href="http://localhost/html/indexSQL.html">Sql Note</a></li>
<li>I'm kind of remembering the picture of <b>left join</b> and <b>right join</b></li>
<li><b>Inner join</b> is like \( a \cap b \) <b>intersection</b> of two tables.</li>
<li><b>Outer join</b> is like \(a \cup b \) <b>union</b> of two tables.</li>
<li><b>Left join</b> is like \( a \cup b - (b - a \cap b) \)</li>
<li><b>Right join</b> is like \( a \cup b - (a - a \cap b) \)</li>
</ul></li>
</ul></li>
</ul></li>
<li>Other two guys Aron Brown and Chris Olson asked some simple C++ questions such as <b>Virtual</b> and <b>Pure Virtual</b> functions.</li>
<li>Normal Inheritence.</li>
<li>Chris Olson also asked one code question which is pretty easy.
<ul class="org-ul">
<li>Given a string which contains 0 to 9, write a function return <b>true</b> if the string contains no repeating digit from 1 to 9, otherwise return false.</li>
<li>For example: <code>"001" =&gt; true</code> because the string contains no repeating digit from 1 to 9.</li>
<li><p>
For example: <code>"00101" =&gt; false</code> because the string contains repeating digit: 1.
</p>
<div class="org-src-container">
<pre class="src src-C++"><span style="color: #6434A3;">bool</span> <span style="color: #006699;">isRepeating</span>(<span style="color: #6434A3;">string</span> <span style="color: #BA36A5;">s</span>){
   <span style="color: #6434A3;">bool</span> <span style="color: #BA36A5;">arr</span>[9];
   <span style="color: #6434A3;">bool</span> <span style="color: #BA36A5;">ret</span> = <span style="color: #D0372D;">true</span>;
   <span style="color: #0000FF;">for</span>(<span style="color: #6434A3;">int</span> <span style="color: #BA36A5;">i</span>=0; i&lt;s.length &amp;&amp; ret; i++){
     <span style="color: #6434A3;">int</span> <span style="color: #BA36A5;">c</span> = (<span style="color: #6434A3;">int</span>)s[i] - <span style="color: #008000;">'0'</span>;
     <span style="color: #0000FF;">if</span>(c &gt; 0){
       <span style="color: #0000FF;">if</span>(!arr[c-1]){
         arr[c-1] = <span style="color: #D0372D;">true</span>;
       }<span style="color: #0000FF;">else</span>{
         ret = <span style="color: #D0372D;">false</span>;
       }
     }
   }
   <span style="color: #0000FF;">return</span> ret;
}
</pre>
</div></li>
<li>It seems to me they really care someone who has deep knowledge in C++.</li>
<li>After a few days, I did not get any response from HR: Lynn Luong.</li>
<li>They will just ignore your result if you did not get any offer.</li>
<li>I remember after the interview, they told me they will give me the result ASAP.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org08b78a5" class="outline-2">
<h2 id="org08b78a5"><span class="section-number-2">49</span> Today, I try to include some or import some functions from Javascript to html file, but it is so tricky I still have no idea how to do it.</h2>
<div class="outline-text-2" id="text-49">
<ul class="org-ul">
<li>Include or import some library to a file, it should be trivial. But in Javascript it is tricky.
<ul class="org-ul">
<li><p>
Actually I just found out I have mistake on my <b>wai.hs</b> code. The following code should work in Html file.
</p>
<div class="org-src-container">
<pre class="src src-html">// aronlib.js 
// fun(){};
&lt;<span style="color: #006699;">script</span> <span style="color: #BA36A5;">src</span>=<span style="color: #008000;">"./aronlib.js"</span>&gt;
  fun();
&lt;/<span style="color: #006699;">script</span>&gt;
</pre>
</div></li>
</ul></li>
<li>If you want to import module from Javascript to Javascript file, then you can find some solution</li>
<li>But I can not find a solution from <b>Javascript</b> to <b>Html</b></li>
<li>It turned to be my Haskell server <b>does not</b> send the right MIME type: <code>Content-Type: text/javascript</code>, instead <code>Conent-Type: text/html</code> only</li>
<li>On <code>$b/haskell_web/wai.hs</code> file, here is the code to cause the javascript error.</li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell">responseEditor<span style="color: #BA36A5;">::</span> <span style="color: #6434A3;">Response</span>
<span style="color: #006699;">responseEditor</span> <span style="color: #BA36A5;">=</span> responseFile
    status200
    [(<span style="color: #008000;">"Content-Type"</span>, <span style="color: #008000;">"text/html"</span>)]
    <span style="color: #008000;">"compileCode.html"</span>
    <span style="color: #6434A3;">Nothing</span>
</pre>
</div>
<ul class="org-ul">
<li><b>Content-Type : text/html</b> \( \rightarrow \) Html file only.</li>
<li><b>Content-Type : text/javascript</b> \( \rightarrow \) javascript.</li>
<li>Wai.hs web server does not work for following code:</li>
</ul>
<div class="org-src-container">
<pre class="src src-javascript"><span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">aronlib.js </span>
<span style="color: #0000FF;">function</span> <span style="color: #006699;">fun</span>(){ console.log(<span style="color: #008000;">'hello'</span>);}
&lt;script scr=<span style="color: #008000;">"./aronlib.js"</span>&gt;
&lt;/script&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org58a7576" class="outline-2">
<h2 id="org58a7576"><span class="section-number-2">50</span> <span class="done DONE">DONE</span> Handle Second request from the first request in Haskell Wai API.</h2>
<div class="outline-text-2" id="text-50">
<ul class="org-ul">
<li>On server side, when Html file with an external file is sent to client, how to handle the request for the javascript file from client side.</li>
<li><a href="file:///Library/WebServer/Documents/zsurface/image/wai_request_response.jpg">Wai Request Response</a></li>
<li>A handler needs to be created for the Javascript file.</li>
</ul>
</div>
</div>

<div id="outline-container-org7be0c5e" class="outline-2">
<h2 id="org7be0c5e"><span class="section-number-2">51</span> Interview with Amdoc today and I have no idea what to expect from them.</h2>
<div class="outline-text-2" id="text-51">
<ul class="org-ul">
<li><a href="https://www.glassdoor.ca/Job/vancouver-software-developer-jobs-SRCH_IL.0,9_IC2278756_KO10,28.htm?rdserp=true&amp;jl=3267665595&amp;guid=0000016bd7bf8303bad51d09c08ee95e&amp;pos=109&amp;src=GD_JOB_AD&amp;srs=EI_JOBS&amp;s=21&amp;ao=441906">Amdoc Job Description</a></li>
<li>Google around the company and found the company is doing software as service(SAS) thing.</li>
<li>An Indian woman called <b>Damini Gupta</b> called me 10 mins late, it seems to me she does not know she has been late for 10 mins.</li>
<li>Do you know about <b>Amdoc</b>? and we have legacy software called bah bah..</li>
<li>Do you know <b>mogoDB</b>&#x2026; do you use bah bah <b>script language</b>? bah bah..</li>
<li>It seems to me she does not know what she try to ask and she has no clue what all those softwares are for.</li>
<li>I think she tries to <b>pattern match</b> the name of a language on the job description and if you say you use the name before, she just check, otherwise uncheck it.</li>
</ul>
</div>
</div>
<div id="outline-container-org53609c4" class="outline-2">
<h2 id="org53609c4"><span class="section-number-2">52</span> Work on an App to take all the pdf file from a directory and display its names on browser.</h2>
<div class="outline-text-2" id="text-52">
<ul class="org-ul">
<li>What I have learned from the App.?
<ul class="org-ul">
<li>Using <b>Data.Text</b> is painful in Haskell.</li>
<li>Again, use <b>Text.RawString.QQ</b> is helpful for Html code as String in Haskell.</li>
<li><b>Text.RawString.QQ</b> supports <b>Data.Text</b>, e.g. <code>[r| &lt;td style='font-size:20px'&gt;|] &lt;&gt; data &lt;&gt; [r|&lt;/td&gt;|]</code></li>
<li><p>
Use <b>Sqlite-simple</b> which is file-based database is very easy in Haskell.
</p>
<ul class="org-ul">
<li>Create Record</li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #0000FF;">data</span> <span style="color: #6434A3;">PDFInfo</span> <span style="color: #BA36A5;">=</span> <span style="color: #6434A3;">PDFInfo</span>{pid<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Int64</span>, title<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>, pdesc<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>, path<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>} <span style="color: #0000FF;">deriving</span>(<span style="color: #6434A3;">Show</span>, <span style="color: #6434A3;">Eq</span>)
</pre>
</div>
<ul class="org-ul">
<li>Implement Type class <b>FromRow</b> and <b>ToRow</b></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">Data.Int(Int64)</span>
<span style="color: #0000FF;">instance</span> <span style="color: #6434A3;">FromRow</span> <span style="color: #6434A3;">PDFInfo</span> <span style="color: #0000FF;">where</span>
    fromRow <span style="color: #BA36A5;">=</span> <span style="color: #6434A3;">PDFInfo</span> <span style="color: #BA36A5;">&lt;$&gt;</span> field <span style="color: #BA36A5;">&lt;*&gt;</span> field <span style="color: #BA36A5;">&lt;*&gt;</span> field

<span style="color: #0000FF;">instance</span> <span style="color: #6434A3;">ToRow</span> <span style="color: #6434A3;">PDFInfo</span> <span style="color: #0000FF;">where</span>
    toRow (<span style="color: #6434A3;">PDFInfo</span> pid title pdesc path) <span style="color: #BA36A5;">=</span> toRow (title, pdesc, path) 
</pre>
</div>
<ul class="org-ul">
<li>Open connection</li>
<li>Use <b>Text.RawString.QQ</b> to create a query string for execution. e.g. insert record <b>PDFInfo</b> to <code>mytable</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #0000FF;">let</span> query <span style="color: #BA36A5;">=</span> [r|<span style="color: #333333; background-color: #FFFFFF;"> INSERT INTO mytable (title, pdesc, path) VALUES(?, ?, ?) |</span>] (<span style="color: #6434A3;">PDFInfo</span> 0 title pdesc path)
<span style="color: #006699;">execute</span> conn query
</pre>
</div>
<ul class="org-ul">
<li>The <b>Semigroup</b> operator in Haskell is <code>&lt;&gt;</code>, it can be <b>String</b> or <b>Data.Text</b> and <b>ByteString</b>
<ul class="org-ul">
<li>Semigroup is Monoid without an Identity.</li>
<li>Semigroup is superclass of Monoid in Haskell.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #0000FF;">let</span> a <span style="color: #BA36A5;">=</span> <span style="color: #008000;">"dog"</span><span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Data.Text</span>
<span style="color: #0000FF;">let</span> b <span style="color: #BA36A5;">=</span> <span style="color: #008000;">"cat"</span><span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Data.Text</span>
<span style="color: #0000FF;">let</span> c <span style="color: #BA36A5;">=</span> a <span style="color: #BA36A5;">&lt;&gt;</span> b

<span style="color: #0000FF;">let</span> a <span style="color: #BA36A5;">=</span> <span style="color: #008000;">"dog"</span><span style="color: #BA36A5;">::</span><span style="color: #6434A3;">BS.ByteString</span>
<span style="color: #0000FF;">let</span> b <span style="color: #BA36A5;">=</span> <span style="color: #008000;">"cat"</span><span style="color: #BA36A5;">::</span><span style="color: #6434A3;">BS.ByteString</span>
<span style="color: #0000FF;">let</span> c <span style="color: #BA36A5;">=</span> a <span style="color: #BA36A5;">&lt;&gt;</span> b

<span style="color: #0000FF;">let</span> a <span style="color: #BA36A5;">=</span> <span style="color: #008000;">"dog"</span><span style="color: #BA36A5;">::</span><span style="color: #6434A3;">String</span>
<span style="color: #0000FF;">let</span> b <span style="color: #BA36A5;">=</span> <span style="color: #008000;">"cat"</span><span style="color: #BA36A5;">::</span><span style="color: #6434A3;">String</span>
<span style="color: #0000FF;">let</span> c <span style="color: #BA36A5;">=</span> a <span style="color: #BA36A5;">&lt;&gt;</span> b
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org273d3ce" class="outline-2">
<h2 id="org273d3ce"><span class="section-number-2">53</span> Install Haskell Platform inside Ubuntu VM and realize it is 8.0.x version.</h2>
<div class="outline-text-2" id="text-53">
<ul class="org-ul">
<li>Run following command to install <b>Stack</b> inside <b>Ubuntu</b>.</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">curl -sSL https://get.haskellstack.org/ | sh
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">update stack</span>
stack update
</pre>
</div>
<ul class="org-ul">
<li>Install Haskell <b>ghc 8.4.3</b> inside Ubuntu.
<ul class="org-ul">
<li>Download <code>ghc-8.4.3-x86_64-deb9-linux.tar.xz</code> and unzip it</li>
<li>Extract with: <code>tar xf ghc-8.4.3-x86_64-deb9-linux.tar.xz</code></li>
<li>cd to <b>ghc-8.4.3</b> and run: <code>sudo make install</code></li>
<li>ghc will be in <code>/usr/local/lib/ghc-8.4.3/bin</code> my Ubunut</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org8c4a7c0" class="outline-2">
<h2 id="org8c4a7c0"><span class="section-number-2">54</span> Install some Emacs Themes from <a href="https://pawelbx.github.io/emacs-theme-gallery/">Emacs Theme Gallery</a> today.</h2>
<div class="outline-text-2" id="text-54">
<ul class="org-ul">
<li>Emacs is much easier than Vim when installing new themes.</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">M-x package-install RET theme_name RET
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">update your .emacs file</span>
(add-to-list <span style="color: #008000;">'custom-theme-load-path "/Users/cat/myfile/bitbucket/emacstheme/")</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf22c2d5" class="outline-2">
<h2 id="orgf22c2d5"><span class="section-number-2">55</span> Add GenePDFHtml.hs to bitbucket as repos. <a href="https://bitbucket.org/zsurface/genepdfhtml/src/master/">GenePDFHtml</a></h2>
<div class="outline-text-2" id="text-55">
<ul class="org-ul">
<li>What technologies does the project use?
<ul class="org-ul">
<li>It uses <b>Sqlite</b> as storeage.</li>
<li>It uses Haskell package <b>Text.RawString.QQ</b> to simplify <b>Html</b> code inside Haskell.</li>
<li>It uses Haskell Record to map <b>Sqlite</b> table for query.</li>
</ul></li>
<li>What does GenePDFHtml does?</li>
<li>Open a directory that contains pdf files.</li>
<li>Insert all pdf file paths into <b>Sqlite</b> such as titles, descriptions and full paths.</li>
<li>Generate Html file from database tables.</li>
</ul>
</div>
</div>
<div id="outline-container-orge708d4c" class="outline-2">
<h2 id="orge708d4c"><span class="section-number-2">56</span> <span class="todo TODO">TODO</span> Add GenePDFHtml.hs to Wai.hs Server</h2>
<div class="outline-text-2" id="text-56">
<ul class="org-ul">
<li>Create new handler for <b>GenePDFHtml.hs</b></li>
<li>Add <b>POST</b> form inside <b>GenePDFHtml.hs</b> generating Html.</li>
<li>Create other handler for updating <b>Title</b> and <b>Description</b></li>
<li>Insert new updated <b>Title</b> and <b>Description</b> into <b>Sqlite</b>.</li>
<li>Resend the updated Html to client side.</li>
</ul>
</div>
</div>
<div id="outline-container-org970a906" class="outline-2">
<h2 id="org970a906"><span class="section-number-2">57</span> Replace gluPerspective with glFrustrum in OpenGL</h2>
<div class="outline-text-2" id="text-57">
<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/gluPerspective.xml">gluPerspective</a> <a href="https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glFrustum.xml">glFrustrum</a> <a href="http://localhost/html/indexUnderstandOpenGL.html">Understand OpenGL</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #6434A3;">void</span> <span style="color: #006699;">myPerspective</span>(<span style="color: #6434A3;">GLdouble</span> <span style="color: #BA36A5;">fov</span>, <span style="color: #6434A3;">GLdouble</span> <span style="color: #BA36A5;">aspect</span>, <span style="color: #6434A3;">GLdouble</span> <span style="color: #BA36A5;">zNear</span>, <span style="color: #6434A3;">GLdouble</span> <span style="color: #BA36A5;">zFar</span>){
 <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">fov/2 =&gt; angle from top to the floor.</span>
 <span style="color: #6434A3;">GLfloat</span> <span style="color: #BA36A5;">fH</span> = tan ((fov/2)*(pi/180))*zNear;  <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">pi/180 = radian per degree</span>
 <span style="color: #6434A3;">GLfloat</span> <span style="color: #BA36A5;">fW</span> = fH*aspect;   <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">fW/fH = aspect</span>
 glFrustum(-fW, fW, -fH, fH, aspect, zNear, zFar);
}
</pre>
</div>
<ul class="org-ul">
<li>\( \mbox{aspect} = \frac{width}{height} \quad \mbox{tan} = \frac{y}{x} \)</li>
<li><a href="http://xfido.com/image/opengl_glPerspective.svg">Image</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgab5d5e3" class="outline-2">
<h2 id="orgab5d5e3"><span class="section-number-2">58</span> What is glutReshapeFunc in OpenGL</h2>
<div class="outline-text-2" id="text-58">
<ul class="org-ul">
<li><a href="https://www.opengl.org/resources/libraries/glut/spec3/node48.html">glutReshapeFunc</a> <code>void (*func) int width int height</code></li>
<li><b>func</b> is called whenever the window is reshaped or changed.</li>
<li><b>func</b> is called immediately whenever the new window is created.</li>
<li>The <b>width</b> and <b>height</b> specify a new window size.</li>
<li><b>Local model coord</b> \( \rightarrow \) <b>World coord</b> \( \rightarrow \) <b>Project</b> \( \rightarrow \) screen.</li>
</ul>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #6434A3;">void</span> <span style="color: #006699;">reshape</span>(<span style="color: #6434A3;">GLInt</span> <span style="color: #BA36A5;">w</span>, <span style="color: #6434A3;">GLInt</span> <span style="color: #BA36A5;">h</span>){
  glutViewport(0, 0, w, h);
  glMatrixMode(GL_PROJECTION);
  glLoadIdentity();
  glutPerspective(40.0, GLfloat(w)/GLfloat(h), 1.0, 150.0);
  glMatrixMode(GL_MODELVIEW);
}
glutReshapeFunc(reshape, width, height);
</pre>
</div>
</div>
</div>
<div id="outline-container-org7e3ebf4" class="outline-2">
<h2 id="org7e3ebf4"><span class="section-number-2">59</span> Finally AronModule can be built in Ubuntu with <b>Stack</b>, it is not true, there is still issue with regex-tdfa out of memory in my Ubuntu vm.</h2>
<div class="outline-text-2" id="text-59">
<ul class="org-ul">
<li>regex-tdfa build memory issue <a href="https://github.com/commercialhaskell/stack/issues/4232">stack build issue</a></li>
<li>I just realize <b>stack</b> is such useful tool.:)</li>
<li>Specify the package names in myproject.cabal file and <b>stack build</b> and <b>stack exec myproject</b>.</li>
<li>Actually there is memory issue when package \( \Rightarrow \) regex-tdfa is built inside Ubuntu.</li>
<li>Change the resolver is not resolved the <span class="underline">out of memory issue</span>.</li>
<li>temp solution: remove change all regex-tdfa to other regex lib, there is only two functions using regex-tdfa.</li>
<li>It can be built in Ubuntu vm now.</li>
</ul>
</div>
</div>
<div id="outline-container-orgd2dbef6" class="outline-2">
<h2 id="orgd2dbef6"><span class="section-number-2">60</span> Stack will not always solve all the problems for you.</h2>
<div class="outline-text-2" id="text-60">
<ul class="org-ul">
<li>I just spend a lots of time on building my Application \(\Rightarrow\) wai.hs file with <b>stack</b></li>
<li>It seems to be easy, however, there are many issues someone will never tell you.
<ul class="org-ul">
<li>Put the package name on your cabal file is not always working.</li>
<li>Sometimes you need to put a missing package to <b>stack.yaml</b> file, I'm not sure why.</li>
<li>Check the <a href="http://xfido.com/html/indexHaskellStackTool.html">Stack Tool</a> for more detail.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1e38273" class="outline-2">
<h2 id="org1e38273"><span class="section-number-2">61</span> Add RSA keys to Ubuntu and FreeBSD hosts.</h2>
<div class="outline-text-2" id="text-61">
<ul class="org-ul">
<li>The catch is:
<ul class="org-ul">
<li>cat your public key to authorized<sub>key</sub>.</li>
<li>ssh-add <code>ssh-add /home/name/.ssh/privateKey</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org978d296" class="outline-2">
<h2 id="org978d296"><span class="section-number-2">62</span> Why your public key not working in Github: Error Permission denied (publickey)</h2>
<div class="outline-text-2" id="text-62">
<ul class="org-ul">
<li>When you generate your public and private key with <b>ssh-keygen</b></li>
<li><p>
My Mac public key <a href="https://bitbucket.org/zsurface/publickey/raw/b1d6838a5624a8cffa74f9e22e29cfdf1377177f/mymac_id_rsa.pub">My public key</a>
</p>
<ul class="org-ul">
<li>You need to do the following: host and client</li>
<li>Generate private and public key pair. No host name with <code>ssh-keygen -C noname</code></li>
<li>Add ssh private key to <b>Agent</b></li>
<li>Add public key to <code>authorized_keys</code> with permissin: <code>chmod 600 authorized_keys</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">generate private and public keys</span>
ssh-keygen -C noname <span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Your host name will NOT be included inside the public key.</span>
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">Add private key to agent</span>
ssh-add /home/user/.ssh/myrsa 
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">On client side, add public key to authorized_keys</span>
cat id_rsa.pub &gt;&gt; autherized_keys
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">set permission</span>
chmod 600 autherized_keys
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgc359e3f" class="outline-2">
<h2 id="orgc359e3f"><span class="section-number-2">63</span> Bought a FreeBSD VM 3G, 60G from Digit Ocean for $15.</h2>
<div class="outline-text-2" id="text-63">
<ul class="org-ul">
<li>Install GHC 8.6, and install <b>stack</b></li>
<li><p>
Install Stack <a href="https://docs.haskellstack.org/en/stable/install_and_upgrade/">Install Stack in FreeBSD</a>
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">install GHC</span>
pkg install ghc
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">install haskell stack</span>
curl -sSL https://get.haskellstack.org/ | sh
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orga4c2847" class="outline-2">
<h2 id="orga4c2847"><span class="section-number-2">64</span> FreeBSD install package</h2>
<div class="outline-text-2" id="text-64">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">su root</span>
pkg install curl
</pre>
</div>
</div>
</div>
<div id="outline-container-org2091001" class="outline-2">
<h2 id="org2091001"><span class="section-number-2">65</span> FreeBSD apache html folder</h2>
<div class="outline-text-2" id="text-65">
<div class="org-src-container">
<pre class="src src-bash">/usr/local/www/apache24
</pre>
</div>
</div>
</div>
<div id="outline-container-org18cff3e" class="outline-2">
<h2 id="org18cff3e"><span class="section-number-2">66</span> FreeBSD install GHC</h2>
<div class="outline-text-2" id="text-66">
<div class="org-src-container">
<pre class="src src-bash">pkg install ghc
</pre>
</div>
</div>
</div>
<div id="outline-container-org2d15dfc" class="outline-2">
<h2 id="org2d15dfc"><span class="section-number-2">67</span> <span class="done DONE">DONE</span> Add shell script to upload file to Ubuntu and FreeBSD hosts</h2>
<div class="outline-text-2" id="text-67">
<ul class="org-ul">
<li>script name: <code>$sym/upload.sh</code> \( \Rightarrow \) <code>$src/upload.sh</code> using rsync command.</li>
<li><a href="https://bitbucket.org/zsurface/script/raw/a50c8aff4eabe8d3b86c60552eeae647881dcb86/upload.sh">upload.sh</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">upload file.txt to xfido ~/try</span>
upload.sh file.txt xfido
<span style="color: #8D8D84;"># </span><span style="color: #8D8D84; font-style: italic;">upload file.txt to uwspace ~/try</span>
upload.sh file.txt uw 
</pre>
</div>
</div>
</div>

<div id="outline-container-org264a58b" class="outline-2">
<h2 id="org264a58b"><span class="section-number-2">68</span> Rename haskell<sub>webapp</sub> \( \Rightarrow \) haskellwebapp2</h2>
<div class="outline-text-2" id="text-68">
<ul class="org-ul">
<li>Create <b>bitbucket</b> repos: haskellwebapp2</li>
<li>Rename the Stack project \( \Rightarrow \) in .cabal file.</li>
<li><p>
The root of running process is not <b>src</b>, it is <b>haskellwebapp2</b>
</p>
<div class="org-src-container">
<pre class="src src-bash">haskellwebapp2/src/Main.hs
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org9221417" class="outline-2">
<h2 id="org9221417"><span class="section-number-2">69</span> Create User and Image tables in Sqlite3 database.</h2>
<div class="outline-text-2" id="text-69">
<ul class="org-ul">
<li>Submit submit form.</li>
<li><p>
Database <b>User</b> table in Sqlit3 <a href="https://www.sqlite.org/datatype3.html">Data Type</a>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">uid</td>
<td class="org-left">name</td>
<td class="org-left">email</td>
<td class="org-left">password</td>
<td class="org-left">task</td>
<td class="org-left">money</td>
</tr>

<tr>
<td class="org-left">Integer</td>
<td class="org-left">Text</td>
<td class="org-left">Text</td>
<td class="org-left">Text</td>
<td class="org-left">Text</td>
<td class="org-left">Integer</td>
</tr>
</tbody>
</table></li>

<li><p>
Database <b>Image</b> table
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">iid</td>
<td class="org-left">imagename</td>
<td class="org-left">uid</td>
</tr>

<tr>
<td class="org-left">Integer</td>
<td class="org-left">Text</td>
<td class="org-left">Integer</td>
</tr>
</tbody>
</table></li>

<li><p>
Create Haskell records.   Haskell Int64 \( \Rightarrow \) Sqlit3 Integer
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">Data.Int64 (Int64)</span>
<span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">Haskell Int64 =&gt; Sqlit3 Integer</span>
<span style="color: #0000FF;">data</span> <span style="color: #6434A3;">User</span> <span style="color: #BA36A5;">=</span> <span style="color: #6434A3;">User</span>{uid<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Int64</span>, name<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>, email<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>, password<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span> task<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>, money<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Integer</span>} <span style="color: #0000FF;">deriving</span> (<span style="color: #6434A3;">Show</span>, <span style="color: #6434A3;">Eq</span>)

<span style="color: #0000FF;">data</span> <span style="color: #6434A3;">Image</span> <span style="color: #BA36A5;">=</span> <span style="color: #6434A3;">Image</span>{iid<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Int64</span>, imagename<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Text</span>, uid<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">Int64</span>} <span style="color: #0000FF;">deriving</span> (<span style="color: #6434A3;">Show</span>, <span style="color: #6434A3;">Eq</span>)
</pre>
</div></li>
<li><p>
How to determinate whether insection is successful or failed
</p>
<ul class="org-ul">
<li>Count the number of rows modifed in Sqlite.</li>
<li><a href="http://hackage.haskell.org/package/direct-sqlite-2.3.24/docs/Database-SQLite3.html">changes Sqlite3 Haskell</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #006699;">changes</span> <span style="color: #BA36A5;">::</span> <span style="color: #6434A3;">Database</span> <span style="color: #BA36A5;">-&gt;</span> <span style="color: #6434A3;">IO</span> <span style="color: #6434A3;">Int</span>
</pre>
</div>
<ul class="org-ul">
<li><a href="http://hackage.haskell.org/package/sqlite-simple-0.4.16.0/docs/Database-SQLite-Simple.html">changes in</a> <a href="http://www.sqlite.org/c3ref/changes.html">Sqlit changes</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #006699;">query_</span> conn <span style="color: #008000;">"insect ... "</span>
changeRow <span style="color: #BA36A5;">&lt;-</span> changes conn
<span style="color: #0000FF;">if</span> changeRow <span style="color: #BA36A5;">&gt;</span> 0 <span style="color: #0000FF;">then</span> print <span style="color: #008000;">"Insection is successful"</span>
<span style="color: #0000FF;">else</span> print <span style="color: #008000;">"Insection is failed"</span>
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgb657906" class="outline-2">
<h2 id="orgb657906"><span class="section-number-2">70</span> Insect User to Sqlite database.</h2>
<div class="outline-text-2" id="text-70">
<ul class="org-ul">
<li>Insect data into user table</li>
<li>Select data from user table</li>
<li>Determinate wheter insection is successful or failed with <b>changes</b> in Sqlite3</li>
<li>Again, use <b>Data.RawString.QQ</b> to simplify the <b>String</b>, <b>ByteString</b> and <b>Text</b> manipulation.</li>
<li>Add response page if insection is successful using <b>Data.RawString.QQ</b> again</li>
<li>Add list task page</li>
</ul>
</div>
</div>
<div id="outline-container-org902c999" class="outline-2">
<h2 id="org902c999"><span class="section-number-2">71</span> Add login and password validation page.</h2>
<div class="outline-text-2" id="text-71">
<ul class="org-ul">
<li>Add html login.html file, it is easy.</li>
<li>Add <code>loginCheck::Connection -&gt; Application</code>
<ul class="org-ul">
<li>The function tries to validate email address and password.
<ul class="org-ul">
<li><p>
Use queryNamed <a href="https://hackage.haskell.org/package/sqlite-simple-0.4.16.0/docs/Database-SQLite-Simple.html#v:executeNamed">queryNamed</a> , there is some issues to query any row from <b>user</b> table.
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #006699;">queryNamed</span> <span style="color: #BA36A5;">::</span> <span style="color: #6434A3;">FromRow</span> r <span style="color: #BA36A5;">=&gt;</span> <span style="color: #6434A3;">Connection</span> <span style="color: #BA36A5;">-&gt;</span> <span style="color: #6434A3;">Query</span> <span style="color: #BA36A5;">-&gt;</span> [<span style="color: #6434A3;">NamedParam</span>] <span style="color: #BA36A5;">-&gt;</span> <span style="color: #6434A3;">IO</span> [r]
r <span style="color: #BA36A5;">&lt;-</span> queryNamed c <span style="color: #008000;">"SELECT * FROM posts WHERE id=:id AND date&gt;=:date"</span> [<span style="color: #008000;">":id"</span> <span style="color: #6434A3;">:=</span> postId, <span style="color: #008000;">":date"</span> <span style="color: #6434A3;">:=</span> afterDate]
</pre>
</div></li>
<li><p>
Finally I found the issue when using <code>where</code> cause in Sqlite Haskell.
</p>
<ul class="org-ul">
<li>I use ByteString to compare <code>String</code> or <code>Text</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-haskell">r <span style="color: #BA36A5;">&lt;-</span> queryNamed conn <span style="color: #008000;">"SELECT * FROM user where password = :password"</span> [<span style="color: #008000;">":password"</span> <span style="color: #6434A3;">:=</span> password] <span style="color: #BA36A5;">::</span> [<span style="color: #6434A3;">User</span>]
</pre>
</div>
<ul class="org-ul">
<li><code>password</code> is a type <a href="http://hackage.haskell.org/package/sqlite-simple-0.4.16.0/docs/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> class which converts almost any type to <a href="http://hackage.haskell.org/package/sqlite-simple-0.4.16.0/docs/Database-SQLite-Simple-ToField.html#t:ToField">SQLData</a></li>
<li>I use ByteString instead of String or Text</li>
<li><p>
Here is stupid mistaken that I made.
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">Using ByteString "123" to compare Text</span>
<span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">Error code</span>
<span style="color: #0000FF;">let</span> password <span style="color: #BA36A5;">=</span> <span style="color: #0000FF;">case</span> lookup <span style="color: #008000;">"password"</span> params <span style="color: #0000FF;">of</span>
                       <span style="color: #6434A3;">Just</span> password <span style="color: #BA36A5;">-&gt;</span> password
                       <span style="color: #0000FF;">_</span>             <span style="color: #BA36A5;">-&gt;</span> <span style="color: #008000;">"No password from client."</span>

<span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">Valid code</span>
<span style="color: #0000FF;">let</span> password <span style="color: #BA36A5;">=</span> <span style="color: #0000FF;">case</span> lookup <span style="color: #008000;">"password"</span> params <span style="color: #0000FF;">of</span>
                       <span style="color: #6434A3;">Just</span> password <span style="color: #BA36A5;">-&gt;</span> strictByteStringToStrictText password
                       <span style="color: #0000FF;">_</span>             <span style="color: #BA36A5;">-&gt;</span> <span style="color: #008000;">"No password from client."</span>
</pre>
</div></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgb1d932b" class="outline-2">
<h2 id="orgb1d932b"><span class="section-number-2">72</span> Word8 and ByteString in Haskell.</h2>
<div class="outline-text-2" id="text-72">
<ul class="org-ul">
<li>Word8 is unsigned integer 8-bits byte. <a href="http://hackage.haskell.org/package/base-4.12.0.0/docs/Data-Word.html#t:Word8">Word8</a></li>
<li><p>
ByteString contains 8-bit bytes.
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #8D8D84;">-- </span><span style="color: #8D8D84; font-style: italic;">ls contains all character from 0 to 2^8 - 1 = 255</span>
<span style="color: #0000FF;">let</span> ls <span style="color: #BA36A5;">=</span> Data.Word8.pack [0<span style="color: #BA36A5;">..</span>(2<span style="color: #BA36A5;">^</span>8 <span style="color: #BA36A5;">-</span> 1)]
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgbba9246" class="outline-2">
<h2 id="orgbba9246"><span class="section-number-2">73</span> C++ Dangling pointer <a href="https://stackoverflow.com/questions/37514873/clarify-dangling-pointer-in-c-c">Dangling Pointer</a></h2>
<div class="outline-text-2" id="text-73">
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #6434A3;">void</span> <span style="color: #006699;">remove</span>(){
<span style="color: #6434A3;">Node</span>* <span style="color: #BA36A5;">curr</span> = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">Node</span>(10);
<span style="color: #6434A3;">Node</span>* <span style="color: #BA36A5;">pt</span> = curr;
<span style="color: #0000FF;">if</span>(curr != null)
   <span style="color: #0000FF;">delete</span> curr;
}
</pre>
</div>
<ul class="org-ul">
<li><code>pt</code> is a dangling pointer, there is nothing wrong with dangling pointer as long as you don't deference a dangling pointer.</li>
</ul>
</div>
</div>
<div id="outline-container-orgb4d6d82" class="outline-2">
<h2 id="orgb4d6d82"><span class="section-number-2">74</span> What is unique pointer, shared pointer and weak pointer and what is std::move in C++</h2>
<div class="outline-text-2" id="text-74">
<ul class="org-ul">
<li><a href="https://bitbucket.org/zsurface/cpp/raw/27953c1289c7755a6283ce787a6c92796d46ae83/SmartPointerExample/SmartPointerExample/main.cpp">Smart Pointer Example</a></li>
<li>Smart pointer is trying to help programmers to simplify memory management. Before smart pointer, programmer needs to know when to allocate memory and when to deallocate memory.</li>
<li><p>
What is unique pointer?
</p>
<ul class="org-ul">
<li>unique pointer does not support copy, if you copy a unique pointer, then you will get compiler error.</li>
</ul>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">no memory leak</span>
<span style="color: #6434A3;">void</span> <span style="color: #006699;">fun</span>(){
  <span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">unique_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">pt</span> = <span style="color: #D0372D;">std</span>::unique_pt(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">int</span>(10));
  <span style="color: #0000FF;">return</span>;
}

<span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">unique_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">pt</span> = <span style="color: #D0372D;">std</span>::unique_pt(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">int</span>(9));
<span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">unique_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">pt1</span> = pt;
<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">pt is not longer to deference an object.       </span>

</pre>
</div></li>
<li><p>
How to use shared pointer?
</p>
<div class="org-src-container">
<pre class="src src-c++"> <span style="color: #0000FF;">class</span> <span style="color: #6434A3;">MyClass</span>{
   <span style="color: #0000FF;">public</span>:
   <span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">shared_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">pt</span>;
   <span style="color: #0000FF;">public</span>:
   <span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">shared_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">create</span>(){
     <span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">shared_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">pt</span> = <span style="color: #D0372D;">std</span>::shared_pt(<span style="color: #0000FF;">new</span> <span style="color: #6434A3;">int</span>(9));
     <span style="color: #0000FF;">return</span> pt;
   }
 }

<span style="color: #6434A3;">MyClass</span>* <span style="color: #BA36A5;">cpt</span> = <span style="color: #0000FF;">new</span> <span style="color: #6434A3;">MyClass</span>();
<span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">shared_pt</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">pt</span> = cpt -&gt; create();

<span style="color: #0000FF;">if</span>(cpt != null)
  <span style="color: #0000FF;">delete</span> cpt;

<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">std::shared_pt&lt;int&gt; pt don't need to be deleted inside the MyClass</span>

</pre>
</div></li>
<li>What is weak pointer in C++
<ul class="org-ul">
<li>Weak pointer is a shared pointer and it holds a non-owning reference to an object.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org9e1bf0a" class="outline-2">
<h2 id="org9e1bf0a"><span class="section-number-2">75</span> Change all paths in WaiLib.hs and Wai.hs, and it run in FreeBSD so far.</h2>
<div class="outline-text-2" id="text-75">
<ul class="org-ul">
<li>Change symbol link to relative path, solve only half the problem.</li>
<li>DONE Add config file.</li>
<li>DONE Change localhost to real hostname.</li>
<li>DONE Install Redis on FreeBSD</li>
</ul>
</div>
</div>
<div id="outline-container-org74bf678" class="outline-2">
<h2 id="org74bf678"><span class="section-number-2">76</span> In FreeBSD, <code>/usr/ports/database</code> is not shown.</h2>
<div class="outline-text-2" id="text-76">
<ul class="org-ul">
<li>download port collections <code>portsnap fetch</code> and extract it to <code>/usr/ports</code></li>
<li>Here is the link on how to use use port in FreeBSD <a href="https://www.freebsd.org/doc/handbook/ports-using.html">port</a></li>
</ul>
</div>
</div>
<div id="outline-container-org7a2c0b6" class="outline-2">
<h2 id="org7a2c0b6"><span class="section-number-2">77</span> Install Redis in FreeBSD <a href="https://stackoverflow.com/questions/44447809/redis-installed-on-freebsd-via-pkg-or-ports-can-not-run">Redis installation on FreeBSD</a></h2>
</div>
<div id="outline-container-orgc875b85" class="outline-2">
<h2 id="orgc875b85"><span class="section-number-2">78</span> Haskell Enum Trick <a href="http://haskell.1045720.n5.nabble.com/Enum-to-String-and-back-td3131188.html">Enum Trick</a></h2>
<div class="outline-text-2" id="text-78">
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #0000FF;">data</span> <span style="color: #6434A3;">Color</span>
    <span style="color: #BA36A5;">=</span> <span style="color: #6434A3;">Red</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">Blue</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">Green</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">Yellow</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">Orange</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">Brown</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">White</span>
    <span style="color: #BA36A5;">|</span> <span style="color: #6434A3;">Black</span>
    <span style="color: #0000FF;">deriving</span> (<span style="color: #6434A3;">Show</span>, <span style="color: #6434A3;">Eq</span>, <span style="color: #6434A3;">Enum</span>, <span style="color: #6434A3;">Bounded</span>)   
</pre>
</div>
</div>
</div>
<div id="outline-container-org141bb65" class="outline-2">
<h2 id="org141bb65"><span class="section-number-2">79</span> Show Maybe is a Functor <a href="https://hackage.haskell.org/package/base-4.12.0.0/docs/src/GHC.Base.html#line-836">Functor Maybe</a> <a href="http://xfido.com/html/indexHaskellProveMaybesatifiestwolaws.html">Proof</a></h2>
</div>
<div id="outline-container-org93e5300" class="outline-2">
<h2 id="org93e5300"><span class="section-number-2">80</span> Move GenePDFHtml to WaiLib.hs file, Create a GenePDFHtmlLib in $b/haskelllib</h2>
</div>
<div id="outline-container-org78ecd6e" class="outline-2">
<h2 id="org78ecd6e"><span class="section-number-2">81</span> Refactor function in WaiLib</h2>
<div class="outline-text-2" id="text-81">
<ul class="org-ul">
<li><code>app::Connection -&gt; IORef M.HashMap -&gt; Application</code></li>
<li>Remove the extrac database connection from above function</li>
<li>One database includes all tables.</li>
</ul>
</div>
</div>
<div id="outline-container-org038d350" class="outline-2">
<h2 id="org038d350"><span class="section-number-2">82</span> Change Emacs Org-mode with solarized theme with CSS file <a href="http://thomasf.github.io/solarized-css/">Emacs Org-mode Solarized Theme</a></h2>
<div class="outline-text-2" id="text-82">
<ul class="org-ul">
<li>If you use thomasf.github.io code snippet for Org-mode, then you will have problem to display the html file.</li>
<li>I have no idea what the javascript does. After I remove the Javascript code, it works perfectly.
<ul class="org-ul">
<li>It means you do not need the Javascript code on your Org-mode.</li>
<li>At least it works in SpaceEmacs 8.x under Chrome, Safari and Firefox.</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-html">-- light mode
#+HTML_HEAD: &lt;<span style="color: #006699;">link</span> <span style="color: #BA36A5;">rel</span>=<span style="color: #008000;">"stylesheet"</span> <span style="color: #BA36A5;">type</span>=<span style="color: #008000;">"text/css"</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"http://thomasf.github.io/solarized-css/solarized-light.min.css"</span> /&gt;
-- dark mode
#+HTML_HEAD: &lt;<span style="color: #006699;">link</span> <span style="color: #BA36A5;">rel</span>=<span style="color: #008000;">"stylesheet"</span> <span style="color: #BA36A5;">type</span>=<span style="color: #008000;">"text/css"</span> <span style="color: #BA36A5;">href</span>=<span style="color: #008000;">"http://thomasf.github.io/solarized-css/solarized-dark.min.css"</span> /&gt;
</pre>
</div>
<ul class="org-ul">
<li>You DO NOT need the following snippet on your Org-mode, it will screw up your Html after you export Org-mode to Html.</li>
</ul>
<div class="org-src-container">
<pre class="src src-html">#+INFOJS_OPT: view:t toc:t ltoc:t mouse:underline buttons:0 path:http://thomasf.github.io/solarized-css/org-info.min.js
</pre>
</div>
</div>
</div>
<div id="outline-container-org54f6190" class="outline-2">
<h2 id="org54f6190"><span class="section-number-2">83</span> Change the width of center theme on the current theme.</h2>
<div class="outline-text-2" id="text-83">
<div class="org-src-container">
<pre class="src src-html">-- max-with 23cm; =&gt; max-width: 30cm; 
body {
     background-color: #002b36;
     margin: 0 auto;
     max-width: 30cm;
     border: 1pt solid #586e75;
     padding: 1em;
 }    
</pre>
</div>
</div>
</div>
<div id="outline-container-org05e157d" class="outline-2">
<h2 id="org05e157d"><span class="section-number-2">84</span> Add install.sh to each stackproject project</h2>
<div class="outline-text-2" id="text-84">
<ul class="org-ul">
<li>copy binary file to mybin dir</li>
<li>create symbo link to $sym dir</li>
<li>create simple shell script under $scr</li>
</ul>
</div>
</div>
<div id="outline-container-orgc947fad" class="outline-2">
<h2 id="orgc947fad"><span class="section-number-2">85</span> Change default shell in FreeBSD <a href="https://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/shells.html">change shell</a></h2>
<div class="outline-text-2" id="text-85">
<ul class="org-ul">
<li>Apparently freeBSD default shell is not <b>bash</b> but <b>sh</b> and you need to change it if you did not want all the annoyance.</li>
<li>Also you need to make sure your shell is in <code>/etc/shells</code></li>
<li><p>
See the difference between <b>bash</b> and <b>sh</b> in <a href="https://stackoverflow.com/questions/5725296/difference-between-sh-and-bash">bash and sh</a>
</p>
<div class="org-src-container">
<pre class="src src-bash">chsh -s /usr/local/bin/bash
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org9b1583f" class="outline-2">
<h2 id="org9b1583f"><span class="section-number-2">86</span> GHC run out of memory in Ubuntu 1G RAM <a href="https://www.reddit.com/r/haskell/comments/cmx7dl/build_cabal_with_stack_build_out_of_memory_in/">GHC out of memory</a></h2>
<div class="outline-text-2" id="text-86">
<ul class="org-ul">
<li>GHC build package can take lots of memory sometimes.</li>
<li>Run <code>stack build</code> and out of memory error in Ubuntu 1G RAM</li>
<li><p>
But it works on FreeBSD 3G RAM.
</p>
<div class="org-src-container">
<pre class="src src-bash">Cabal                &gt; ghc: internal error: Unable to commit 1048576 bytes of memory
Cabal                &gt;     (GHC version 8.6.5 for x86_64_unknown_linux)
Cabal                &gt; Building library for Cabal-2.4.1.0..
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgdedaa3e" class="outline-2">
<h2 id="orgdedaa3e"><span class="section-number-2">87</span> Change web host from Ubuntu 1G to FreeBSD 3G</h2>
</div>
<div id="outline-container-org93f6cd9" class="outline-2">
<h2 id="org93f6cd9"><span class="section-number-2">88</span> Non-interactive shell and interactive shell, login shell, non-login shell.</h2>
<div class="outline-text-2" id="text-88">
<ul class="org-ul">
<li>Interactive shell is the first process Id when you login to an interactive session.
<ul class="org-ul">
<li>Read <code>/etc/profile</code> to setup environment variables, also read <code>.bashrc, .profile</code> on your home directory if there exist.</li>
</ul></li>
<li><p>
Non-interactive shell does not read <code>/etc/profile</code>, e.g.
</p>
<div class="org-src-container">
<pre class="src src-bash">ssh  cat@xfido.com <span style="color: #008000;">'ls'</span>
</pre>
</div>
<ul class="org-ul">
<li>ssh logins to cat user account but the process does not activate any shell such as <code>bash</code> and there is no environment variable.</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">ssh cat@xfido.com  <span style="color: #008000;">'bash /etc/profile; echo $PATH'</span>
</pre>
</div>
<ul class="org-ul">
<li>ssh login to cat user account and call <code>bash</code> to read <code>/etc/profile</code>. Environment variables can be used if there are any inside <code>/etc/profile</code>.</li>
</ul></li>
<li>login shell is the same as interactive shell.</li>
<li>non-login shell is the same as non-interactive shell.</li>
</ul>
</div>
</div>
<div id="outline-container-org13913a5" class="outline-2">
<h2 id="org13913a5"><span class="section-number-2">89</span> Add new <code>tmux.conf</code> file for FreeBSD. Apparently the <code>tmux.conf</code> file is not working on MacOS.</h2>
<div class="outline-text-2" id="text-89">
<ul class="org-ul">
<li>Both version are 2.9a</li>
<li><a href="https://bitbucket.org/zsurface/tmux/src/master/">tmux config file for FreeBSD and MacOS</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgd10e682" class="outline-2">
<h2 id="orgd10e682"><span class="section-number-2">90</span> Fixed: Javadoc long term error: can not find methods. <a href="https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html">Javadoc Reference Guide</a></h2>
<div class="outline-text-2" id="text-90">
<ul class="org-ul">
<li><code>/dir/lib</code> contains jar file to support java source file under <code>/javafile</code></li>
<li>-classpath \(\Rightarrow\) specified the location of jar files</li>
<li>-noqualifier \(\Rightarrow\) no long qualifier name such as org.apache.commons.io.StringUtils</li>
<li>-sourcepath \(\Rightarrow\) specified the location of java files.</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">javadoc -classpath  /dir/lib -noqualifier all -d /htmldoc   -sourcepath /javafile/*.java
</pre>
</div>
<ul class="org-ul">
<li>Shell script generates java doc in $b/javalib <a href="https://bitbucket.org/zsurface/script/src/master/gene_javadoc.sh">My gene<sub>javadoc.sh</sub></a></li>
</ul>
</div>
</div>
<div id="outline-container-org2822cc6" class="outline-2">
<h2 id="org2822cc6"><span class="section-number-2">91</span> Add iterate all files from dir and insert them into table: test1.snippet</h2>
</div>
<div id="outline-container-org3e6428f" class="outline-2">
<h2 id="org3e6428f"><span class="section-number-2">92</span> Add isFile and isDir to javalib AronLib.java</h2>
</div>
<div id="outline-container-orgd2fcc88" class="outline-2">
<h2 id="orgd2fcc88"><span class="section-number-2">93</span> Database ACID</h2>
<div class="outline-text-2" id="text-93">
<ul class="org-ul">
<li>Atomicity</li>
<li>Consistency</li>
<li>Isolation</li>
<li>Durability</li>
</ul>
</div>
</div>
<div id="outline-container-org0b83991" class="outline-2">
<h2 id="org0b83991"><span class="section-number-2">94</span> Fixed bug: send pdf file to browser and force the browser to open it. What request header I should use?</h2>
<div class="outline-text-2" id="text-94">
<ul class="org-ul">
<li>Make sure you clean your cache on Chrome.</li>
<li><a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">Http Header W3 Org</a></li>
<li><p>
<a href="http://hackage.haskell.org/package/http-types-0.12.3/docs/src/Network.HTTP.Types.Header.html#RequestHeaders">Wai Network.HTTP.Type.Header</a>, <code>Content-Type, Content-Disposition</code>
</p>
<div class="org-src-container">
<pre class="src src-haskell">[(<span style="color: #008000;">"Content-Type"</span>, <span style="color: #008000;">"application/pdf"</span>), (<span style="color: #008000;">"Content-Disposition"</span>, <span style="color: #008000;">"inline;filename=file.pdf"</span>)]
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org021abd8" class="outline-2">
<h2 id="org021abd8"><span class="section-number-2">95</span> Add code to display all PDF files from a directory in Wai Server.</h2>
<div class="outline-text-2" id="text-95">
<ul class="org-ul">
<li>Use <code>pathInfo</code> instead of <code>rawPathInfo</code></li>
<li><p>
Use Haskell powerful pattern matching.
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #0000FF;">case</span> pathInfo request <span style="color: #0000FF;">of</span>
    (<span style="color: #008000;">"pdf"</span><span style="color: #6434A3;">:</span>fn<span style="color: #6434A3;">:</span><span style="color: #0000FF;">_</span>)  <span style="color: #BA36A5;">-&gt;</span> routing to whatever you want
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org9eda2c7" class="outline-2">
<h2 id="org9eda2c7"><span class="section-number-2">96</span> Wai API for query string, it is nice function to match string from client</h2>
<div class="outline-text-2" id="text-96">
<ul class="org-ul">
<li>If the request string is  <code>/dir/file.pdf</code></li>
<li><p>
<a href="https://hackage.haskell.org/package/wai-3.2.2.1/docs/Network-Wai.html#v:pathInfo">pathInfo</a> can be used to (split &rArr; splitBS) BS.ByteString info parts and pattern matching can be used in different parts.
</p>
<div class="org-src-container">
<pre class="src src-haskell">pathInfo<span style="color: #BA36A5;">::</span><span style="color: #6434A3;">BS.ByteString</span> <span style="color: #BA36A5;">-&gt;</span> [<span style="color: #6434A3;">Text</span>]

<span style="color: #0000FF;">case</span> pathInfo request <span style="color: #0000FF;">of</span>
   (<span style="color: #008000;">"pdf"</span><span style="color: #6434A3;">:</span><span style="color: #0000FF;">_</span>)    <span style="color: #BA36A5;">-&gt;</span> routing to <span style="color: #008000;">"http://xfido.com/pdf"</span>
   (<span style="color: #008000;">"pdf"</span><span style="color: #6434A3;">:</span>fn<span style="color: #6434A3;">:</span><span style="color: #0000FF;">_</span>) <span style="color: #BA36A5;">-&gt;</span> routing to <span style="color: #008000;">"http://xfido.com/pdf/myfile.pdf"</span>
   <span style="color: #0000FF;">_</span>            <span style="color: #BA36A5;">-&gt;</span> routing to <span style="color: #008000;">"other universe"</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org3031b99" class="outline-2">
<h2 id="org3031b99"><span class="section-number-2">97</span> Understand logic implication table</h2>
<div class="outline-text-2" id="text-97">
<ul class="org-ul">
<li>Why implication and contrapositive table defines the way it is?</li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">P</th>
<th scope="col" class="org-left">Q</th>
<th scope="col" class="org-left">\(P \Rightarrow Q\)</th>
<th scope="col" class="org-left">\(Q^\lnot\)</th>
<th scope="col" class="org-left">\(P^\lnot\)</th>
<th scope="col" class="org-left">\(Q^\lnot \Rightarrow P^\lnot\)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">T</td>
<td class="org-left">T</td>
<td class="org-left">T</td>
<td class="org-left">F</td>
<td class="org-left">F</td>
<td class="org-left">T</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-left">F</td>
<td class="org-left">F</td>
<td class="org-left">T</td>
<td class="org-left">F</td>
<td class="org-left">F</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">T</td>
<td class="org-left">T</td>
<td class="org-left">F</td>
<td class="org-left">T</td>
<td class="org-left">T</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">F</td>
<td class="org-left">T</td>
<td class="org-left">T</td>
<td class="org-left">T</td>
<td class="org-left">T</td>
</tr>
</tbody>
</table>
<ul class="org-ul">
<li>Example: If \(a^2 + b^2 = c^2 \Rightarrow a, b, c\) forms a right triangle. <b>Pythagorean Theorem</b>
<ul class="org-ul">
<li>If \(a, b, c\) are not a right triangle \(\Rightarrow a^2 + b^2 \neq c^2\)</li>
<li>\(n \in \mathbf{N} \rightarrow  2n \in \mathbf{N}\) \(\Rightarrow\) if \(2n\) is not an integer then \(n\) is not \(\mathbf{N}\)</li>
<li>\((P \rightarrow Q) \Rightarrow (Q^\lnot \rightarrow P^\lnot)\)</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org359ef39" class="outline-2">
<h2 id="org359ef39"><span class="section-number-2">98</span> Why Lombok sucks? please read the Reddit <a href="https://www.reddit.com/r/java/comments/af6bnj/why_everyone_is_trying_to_invent_new_java/">Lombok in Reddit</a></h2>
<div class="outline-text-2" id="text-98">
<ul class="org-ul">
<li>You are likely missing the plugin in Intellij if you use Lombok to generate setter and getter.</li>
<li>You will spend more time on debugging the Lombok than writing code.</li>
<li>Setter, Getter, Equal, toString and hashCode methods can be generated from IDE.</li>
<li>In practice, you don't use those methods that often.</li>
</ul>
</div>
</div>
<div id="outline-container-orgfd0bc2d" class="outline-2">
<h2 id="orgfd0bc2d"><span class="section-number-2">99</span> Haskell code to generate latex code tryfm.hs</h2>
<div class="outline-text-2" id="text-99">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">A</td>
<td class="org-left">\(\mathscr{A}\)</td>
<td class="org-left">\(\mathfrak{A}\)</td>
<td class="org-left">a</td>
<td class="org-left">\(\mathscr{a}\)</td>
<td class="org-left">\(\mathfrak{a}\)</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-left">\(\mathscr{B}\)</td>
<td class="org-left">\(\mathfrak{B}\)</td>
<td class="org-left">b</td>
<td class="org-left">\(\mathscr{b}\)</td>
<td class="org-left">\(\mathfrak{b}\)</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-left">\(\mathscr{C}\)</td>
<td class="org-left">\(\mathfrak{C}\)</td>
<td class="org-left">c</td>
<td class="org-left">\(\mathscr{c}\)</td>
<td class="org-left">\(\mathfrak{c}\)</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-left">\(\mathscr{D}\)</td>
<td class="org-left">\(\mathfrak{D}\)</td>
<td class="org-left">d</td>
<td class="org-left">\(\mathscr{d}\)</td>
<td class="org-left">\(\mathfrak{d}\)</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-left">\(\mathscr{E}\)</td>
<td class="org-left">\(\mathfrak{E}\)</td>
<td class="org-left">e</td>
<td class="org-left">\(\mathscr{e}\)</td>
<td class="org-left">\(\mathfrak{e}\)</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">\(\mathscr{F}\)</td>
<td class="org-left">\(\mathfrak{F}\)</td>
<td class="org-left">f</td>
<td class="org-left">\(\mathscr{f}\)</td>
<td class="org-left">\(\mathfrak{f}\)</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">\(\mathscr{G}\)</td>
<td class="org-left">\(\mathfrak{G}\)</td>
<td class="org-left">g</td>
<td class="org-left">\(\mathscr{g}\)</td>
<td class="org-left">\(\mathfrak{g}\)</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-left">\(\mathscr{H}\)</td>
<td class="org-left">\(\mathfrak{H}\)</td>
<td class="org-left">h</td>
<td class="org-left">\(\mathscr{h}\)</td>
<td class="org-left">\(\mathfrak{h}\)</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-left">\(\mathscr{I}\)</td>
<td class="org-left">\(\mathfrak{I}\)</td>
<td class="org-left">i</td>
<td class="org-left">\(\mathscr{i}\)</td>
<td class="org-left">\(\mathfrak{i}\)</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-left">\(\mathscr{J}\)</td>
<td class="org-left">\(\mathfrak{J}\)</td>
<td class="org-left">j</td>
<td class="org-left">\(\mathscr{j}\)</td>
<td class="org-left">\(\mathfrak{j}\)</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-left">\(\mathscr{K}\)</td>
<td class="org-left">\(\mathfrak{K}\)</td>
<td class="org-left">k</td>
<td class="org-left">\(\mathscr{k}\)</td>
<td class="org-left">\(\mathfrak{k}\)</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-left">\(\mathscr{L}\)</td>
<td class="org-left">\(\mathfrak{L}\)</td>
<td class="org-left">l</td>
<td class="org-left">\(\mathscr{l}\)</td>
<td class="org-left">\(\mathfrak{l}\)</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-left">\(\mathscr{M}\)</td>
<td class="org-left">\(\mathfrak{M}\)</td>
<td class="org-left">m</td>
<td class="org-left">\(\mathscr{m}\)</td>
<td class="org-left">\(\mathfrak{m}\)</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-left">\(\mathscr{N}\)</td>
<td class="org-left">\(\mathfrak{N}\)</td>
<td class="org-left">n</td>
<td class="org-left">\(\mathscr{n}\)</td>
<td class="org-left">\(\mathfrak{n}\)</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-left">\(\mathscr{O}\)</td>
<td class="org-left">\(\mathfrak{O}\)</td>
<td class="org-left">o</td>
<td class="org-left">\(\mathscr{o}\)</td>
<td class="org-left">\(\mathfrak{o}\)</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">\(\mathscr{P}\)</td>
<td class="org-left">\(\mathfrak{P}\)</td>
<td class="org-left">p</td>
<td class="org-left">\(\mathscr{p}\)</td>
<td class="org-left">\(\mathfrak{p}\)</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-left">\(\mathscr{Q}\)</td>
<td class="org-left">\(\mathfrak{Q}\)</td>
<td class="org-left">q</td>
<td class="org-left">\(\mathscr{q}\)</td>
<td class="org-left">\(\mathfrak{q}\)</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-left">\(\mathscr{R}\)</td>
<td class="org-left">\(\mathfrak{R}\)</td>
<td class="org-left">r</td>
<td class="org-left">\(\mathscr{r}\)</td>
<td class="org-left">\(\mathfrak{r}\)</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-left">\(\mathscr{S}\)</td>
<td class="org-left">\(\mathfrak{S}\)</td>
<td class="org-left">s</td>
<td class="org-left">\(\mathscr{s}\)</td>
<td class="org-left">\(\mathfrak{s}\)</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-left">\(\mathscr{T}\)</td>
<td class="org-left">\(\mathfrak{T}\)</td>
<td class="org-left">t</td>
<td class="org-left">\(\mathscr{t}\)</td>
<td class="org-left">\(\mathfrak{t}\)</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-left">\(\mathscr{U}\)</td>
<td class="org-left">\(\mathfrak{U}\)</td>
<td class="org-left">u</td>
<td class="org-left">\(\mathscr{u}\)</td>
<td class="org-left">\(\mathfrak{u}\)</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-left">\(\mathscr{V}\)</td>
<td class="org-left">\(\mathfrak{V}\)</td>
<td class="org-left">v</td>
<td class="org-left">\(\mathscr{v}\)</td>
<td class="org-left">\(\mathfrak{v}\)</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">\(\mathscr{W}\)</td>
<td class="org-left">\(\mathfrak{W}\)</td>
<td class="org-left">w</td>
<td class="org-left">\(\mathscr{w}\)</td>
<td class="org-left">\(\mathfrak{w}\)</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-left">\(\mathscr{X}\)</td>
<td class="org-left">\(\mathfrak{X}\)</td>
<td class="org-left">x</td>
<td class="org-left">\(\mathscr{x}\)</td>
<td class="org-left">\(\mathfrak{x}\)</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-left">\(\mathscr{Y}\)</td>
<td class="org-left">\(\mathfrak{Y}\)</td>
<td class="org-left">y</td>
<td class="org-left">\(\mathscr{y}\)</td>
<td class="org-left">\(\mathfrak{y}\)</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-left">\(\mathscr{Z}\)</td>
<td class="org-left">\(\mathfrak{Z}\)</td>
<td class="org-left">z</td>
<td class="org-left">\(\mathscr{z}\)</td>
<td class="org-left">\(\mathfrak{z}\)</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


</table>
</div>
</div>



<div id="outline-container-org38ef642" class="outline-2">
<h2 id="org38ef642"><span class="section-number-2">100</span> Anonymous function in c++ and Lambda function in Haskell.</h2>
<div class="outline-text-2" id="text-100">
<ul class="org-ul">
<li><p>
Pass lambda function to a function in C++.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">function</span>&lt;<span style="color: #6434A3;">int</span>(<span style="color: #6434A3;">bool</span>)&gt; <span style="color: #BA36A5;">even</span> = [](<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">x</span>) = { <span style="color: #0000FF;">return</span>  x % 2 == 0;};

<span style="color: #0000FF;">template</span>&lt;<span style="color: #0000FF;">class</span> <span style="color: #6434A3;">T</span>&gt;
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">T</span>&gt; <span style="color: #006699;">filter</span>(<span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">function</span>&lt;<span style="color: #6434A3;">bool</span>(<span style="color: #BA36A5;">T</span>)&gt; <span style="color: #BA36A5;">f</span>, <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">T</span>&gt; <span style="color: #BA36A5;">vec</span>){
   <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">T</span>&gt; <span style="color: #BA36A5;">retV</span>;
   <span style="color: #0000FF;">for</span>(<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">t</span> : vec){
      <span style="color: #0000FF;">if</span>(f(t))
        retV.push_back(t);
   }
}

<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vecInt</span> = filter(even, vec);

</pre>
</div></li>
<li><p>
But you can not do as following:
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">f</span> = [](<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">x</span>){ <span style="color: #0000FF;">return</span> x % 2 == 0;};
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">filter</span>(f, vec);
</pre>
</div></li>
<li><code>auto f</code> is not the same type as <code>std::function</code></li>
<li><p>
Use <code>template&lt;typename Fun, typename T&gt;</code> to solve above limitation.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #0000FF;">template</span>&lt;<span style="color: #0000FF;">typename</span> <span style="color: #6434A3;">Fun</span>, <span style="color: #0000FF;">typename</span> <span style="color: #6434A3;">T</span>&gt;
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">T</span>&gt; <span style="color: #006699;">filter</span>(<span style="color: #6434A3;">Fun</span> <span style="color: #BA36A5;">f</span>, <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">T</span>&gt;&amp; <span style="color: #BA36A5;">vec</span>){
   <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">T</span>&gt; <span style="color: #BA36A5;">retv</span>;
   <span style="color: #0000FF;">for</span>(<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">e</span> : vec){
      <span style="color: #0000FF;">if</span>(f(e))
        retv.push_back(e); 
   }
   <span style="color: #0000FF;">return</span> retv;
}
</pre>
</div></li>
<li><p>
The new <b>filter</b> function, we can pass <code>auto f=...</code> or <code>std::function&lt;bool(T)&gt; f = ..</code>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">f</span> = [](<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">x</span>) { <span style="color: #0000FF;">return</span> x % 2 == 0;};
<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">or </span>
<span style="color: #D0372D;">std</span>::<span style="color: #6434A3;">function</span>&lt;<span style="color: #6434A3;">bool</span>(<span style="color: #BA36A5;">T</span>)&gt; <span style="color: #BA36A5;">f</span> = [](<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">x</span>){ <span style="color: #0000FF;">return</span> x % 2 == 0;};

<span style="color: #6434A3;">vecotor</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">filter</span>(f, vec);
</pre>
</div>
<ul class="org-ul">
<li><p>
Some comments suggest the following code <a href="https://www.reddit.com/r/cpp_questions/comments/cskq0w/how_to_implement_filter_function_with_lambda_such/">Lambd Function in C++</a>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">f</span> = [](<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">x</span>) { <span style="color: #0000FF;">return</span> !(<span style="color: #6434A3;">x</span> &amp; 1);};
<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">nice, but it might introduce bug in the future.</span>
<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">e.g. if I need module of 3, 5, ..., the whole function needs to be rewritten.</span>
</pre>
</div></li>
</ul></li>
<li><p>
In Haskell, the solution is much more elegrant.
</p>
<div class="org-src-container">
<pre class="src src-haskell"><span style="color: #0000FF;">let</span> list <span style="color: #BA36A5;">=</span> [1, 2, 3];
filter(<span style="color: #BA36A5;">\</span>x <span style="color: #BA36A5;">-&gt;</span> x <span style="color: #BA36A5;">`mod`</span> 2 <span style="color: #BA36A5;">==</span> 0) list
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org89838ba" class="outline-2">
<h2 id="org89838ba"><span class="section-number-2">101</span> C++ return by reference or return by value.</h2>
<div class="outline-text-2" id="text-101">
<ul class="org-ul">
<li>The code below will be wrong.</li>
</ul>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">return by reference.</span>
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt;&amp; <span style="color: #006699;">fun</span>(){
     <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
     <span style="color: #0000FF;">return</span> vec;
}
<span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">return by value.</span>
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">fun</span>(){
  <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
  <span style="color: #0000FF;">return</span> vec;
}
</pre>
</div>
</div>
</div>
<div id="outline-container-org4a874ec" class="outline-2">
<h2 id="org4a874ec"><span class="section-number-2">102</span> Passed by reference and value or const reference</h2>
<div class="outline-text-2" id="text-102">
<p>
a    + Pass by value:
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">even</span>(<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span>){
  <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">ret</span>;
  <span style="color: #0000FF;">for</span>(<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">e</span> : vec){
     ret.push_back(e);
  }
  <span style="color: #0000FF;">return</span> ret;
}
</pre>
</div>
<ul class="org-ul">
<li><b>vec</b> will be copied by value, if objects is big inside <b>vec</b>, then it will be not very efficiency.</li>
<li><p>
C++ is trick programming language.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">even</span>(<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt;&amp; <span style="color: #BA36A5;">vec</span>){
   <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">ret</span>;
   <span style="color: #0000FF;">for</span>(<span style="color: #0000FF;">auto</span> <span style="color: #BA36A5;">e</span> : vec){
     ret.push_back(e);
   }
   <span style="color: #0000FF;">return</span> ret;
}
<span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
even(vec) <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">no problem.</span>
</pre>
</div></li>
<li><p>
But following code will be problematic.
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">fun</span>(){
   <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">v</span> = {1, 2, 3};
   <span style="color: #0000FF;">return</span> v;
}
even(fun)  <span style="color: #8D8D84;">// </span><span style="color: #8D8D84; font-style: italic;">compile error</span>

</pre>
</div></li>
<li><p>
Apparently, <b>fun</b> return a <code>const vector&lt;int&gt;&amp;</code> but not <code>vector&lt;int&gt;&amp;</code>
</p>
<ul class="org-ul">
<li>In order to make above code to work, the signature of <code>even(..)</code> has to be changed as following:</li>
</ul>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #006699;">even</span>(<span style="color: #0000FF;">const</span> <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt;&amp; <span style="color: #BA36A5;">vec</span>)
</pre>
</div>
<ul class="org-ul">
<li><p>
Signature above is not a perfect solution and following code will not work.
</p>
<ul class="org-ul">
<li><b>vec</b> can be modified.</li>
</ul>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt; <span style="color: #BA36A5;">vec</span> = {1, 2, 3};
   <span style="color: #6434A3;">void</span> <span style="color: #006699;">fun</span>(<span style="color: #0000FF;">const</span> <span style="color: #6434A3;">vector</span>&lt;<span style="color: #6434A3;">int</span>&gt;&amp; <span style="color: #BA36A5;">vec</span>){
        vec.push_back(1);
   }
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgb735ef0" class="outline-2">
<h2 id="orgb735ef0"><span class="section-number-2">103</span> Find the square root of a float point number: \(n\)</h2>
<div class="outline-text-2" id="text-103">
<ul class="org-ul">
<li>The idea is to find the square root of a float point number is equivalent to solve a equation \(n = x^2\) where \(n\) is given, find \(x\)</li>
<li>Choose a point \( x = x_0 \) from \( y = x^2 - n \) where \( y = 0 \)</li>
<li>We know the derivative of \( y = x^2 - n \) is \(2x\), then we can find the slop \(2x_0\) of a line which passes a point \( (x_0, (x_0)^2 - n)\)</li>
<li>The equation of the line is</li>
<li>\( \frac{y - (x_0^2 - n)}{ x - x_0} = 2x_0 \Rightarrow  \frac{y - (x_0^2 - n)}{2x_0} = x - x_0  \)</li>
<li>where \(y = 0 \Rightarrow x = x_0 + \frac{n - x_0^2}{2x_0} \Rightarrow x_1 = x_0 + \frac{n - x_0^2}{2x_0} \)</li>
<li><p>
C++ code: <a href="http://xfido.com/html/indexFindthesquarerootofanInteger.html">Square Root of Integer</a>
</p>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #8D8D84;">/***</span>
<span style="color: #8D8D84; font-style: italic;"> *</span>
<span style="color: #8D8D84; font-style: italic;"> * Newton' method to find the square root of any positive float point number. </span>
<span style="color: #8D8D84; font-style: italic;"> */</span>
 <span style="color: #6434A3;">double</span> <span style="color: #006699;">sqrt</span>(<span style="color: #6434A3;">double</span> <span style="color: #BA36A5;">n</span>){
   <span style="color: #6434A3;">double</span> <span style="color: #BA36A5;">x0</span> = n + 10;
   <span style="color: #6434A3;">double</span> <span style="color: #BA36A5;">x</span> = x0;
   <span style="color: #0000FF;">while</span>(fabs(x*x - n) &gt; 0.00000001){
    x = x + (n - x*x)/(2*x);
   }
   <span style="color: #0000FF;">return</span> x;
 }
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-orgb384ed8" class="outline-2">
<h2 id="orgb384ed8"><span class="section-number-2">104</span> Find the nth root of a float point number: \(c\)</h2>
<div class="outline-text-2" id="text-104">
<ul class="org-ul">
<li>Same idea can be used from above.</li>
<li>let \(x_0\) is the initial point and we try to solve \( c = x^n \Rightarrow f(x) = x^n - c \) where \( f(x) = 0 \)</li>
<li>The derivative of \( f(x) \) is \( nx^{n-1} \)</li>
<li>A line passes \( (x_0, f(x_0) \) and its slop is \( nx^{n-1} \)</li>
<li>The line equation is \( f'(x_0) = n(x_0)^{n-1} = \frac{y - f(x_0)}{x - x_0} \)</li>
<li>\( \Rightarrow x = x_0 - \frac{f(x_0)}{n(x_0)^{n-1}} \) where \( y = 0 \) because we need to solve \( 0 = x^n - c \) for \(x\)</li>
<li><a href="http://xfido.com/htmlcppdoc/html/_aron_lib_8h_source.html">Search nthRoot</a> in C++</li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: cat</p>
<p class="date">Created: 2019-08-20 Tue 16:10</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
