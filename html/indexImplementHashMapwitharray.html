
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB">
    <head>
        <title>Implement HashMap with array</title>
        <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
        <meta name="description" content="Xcode Change Build from iPhone to Universal iPad " />
        <meta name="keywords" content="Build iPhone and iPad, Change Xcode Build Target " />
        <meta name="robots" content="index, follow" />
        <link rel="shortcut icon" href="/favicon.ico" type="../image/x-icon" />
        <link rel="stylesheet" type="text/css" href="../screen.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="../highlight.css">
        <link rel="stylesheet" type="text/css" href="../style.css">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <script type="text/x-mathjax-config">
              MathJax.Hub.Config({
                extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
                jax: ["input/TeX","output/HTML-CSS"],
                tex2jax: {inlineMath: [["$","$"],["\(","\)"]]}
              });
        </script>
        <script type="text/javascript" src="../MathJax-2.6-latest/MathJax.js"></script>
    </head>
    <body>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-66282017-2', 'auto');
      ga('send', 'pageview');
    </script>

            <div class="mytitle">
            Implement HashMap with array 
            </div>
            <div class="mytext">
            1. Implement Put and Delete for Hashmap
            2. Use Array to store each Entry
            3. Use chain linkedlist to handle collision  

            Insert Node:
            If arr contains null, then insert the new key and data, increase count
            If arr contains some nodes, then check whether the new key is in the list
                If the key is in the list, update the data, done
                If the key is Not in the list, goto the last node, 
                    insert the key and data to the end of the list

            TODO: add contains method, increase the size of array if the number of elements is 
            greater than the max value.
            </div>
            <pre class="prettyprint">
            class Entry{
                public String key;
                public Object value;
                public Entry next;
                public Entry(String key, Object value){
                    this.key = key;
                    this.value = value;
                }
            }

            class Hash{
                public Entry[] arr;
                public int max;
                public int count = 0;
                public Hash(int max){
                    this.max = max;
                    arr = new Entry[max];
                }

                public Node get(String key){
                    int hash = key.hashCode() % max;
                    return (Node)arr[hash].value;
                }
                public void delete(String key){
                    if(key != null){
                        int hash = key.hashCode() % max;
                        Entry curr = arr[hash];
                        if(curr != null){
                            Entry prev = null;
                            while(curr != null){
                                if(curr.key == key)
                                    break;
                                else{
                                    prev = curr;
                                    curr = curr.next;
                                }
                            }
                            if(prev == null){
                                arr[hash] = curr.next;
                                count--;
                            }else{
                                if(curr != null){
                                    prev.next = curr.next;
                                    count--;
                                }
                            }
                        }
                    }
                }
                public void put(String key, Node node){
                    if(count < max){
                        int hash = key.hashCode() % max;
                        Entry curr = arr[hash];
                        if(curr == null){
                            arr[hash] = new Entry(key, node);
                            count++;
                        }
                        else{
                            Entry prev = null;
                            while(curr != null){
                                if(curr.key.equals(key)){
                                    // Replace with new value
                                    curr.value = node;
                                    break;
                                }
                                else{
                                    prev = curr;
                                    curr = curr.next;
                                }
                            }
                            // No key is found
                            if(curr == null){
                                prev.next = new Entry(key, node);
                                count++;
                            }
                        }
                    }
                    
                }
            }

            </pre>

     
            <div class="cen">
            <img src="../image/java_hashmap.jpg" width="80%" height="80%" /><br>
            <a class="codebox" href="https://github.com/bsdshell/java/tree/master/MyHash.java">Source Code</a>
            </div>


    </body>
    </html>
    
















































