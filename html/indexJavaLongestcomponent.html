
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB">
    <head>
        <title>Java Longest component</title>
        <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
        <meta name="description" content="Xcode Change Build from iPhone to Universal iPad " />
        <meta name="keywords" content="Build iPhone and iPad, Change Xcode Build Target " />
        <meta name="robots" content="index, follow" />
        <link rel="shortcut icon" href="/favicon.ico" type="../image/x-icon" />
        <link rel="stylesheet" type="text/css" href="../screen.css" media="screen" />
        <link rel="stylesheet" type="text/css" href="../highlight.css">
        <link rel="stylesheet" type="text/css" href="../style.css">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <script type="text/x-mathjax-config">
              MathJax.Hub.Config({
                extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js"],
                jax: ["input/TeX","output/HTML-CSS"],
                tex2jax: {inlineMath: [["$","$"],["\(","\)"]]}
              });
        </script>
        <script type="text/javascript" src="../MathJax-2.6-latest/MathJax.js"></script>
    </head>
    <body>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-66282017-2', 'auto');
      ga('send', 'pageview');
    </script>

        <div class="mytitle">
        Longest component in Java, Longest connected components in an Array
        </div>
        <pre class="prettyprint">
        static int component(int[][] A, int x, int y) {
        if(A != null && A[0] != null && 0 <= x && x < A.length && 0 <= y &&
                y < A[0].length && A[x][y] == 1) {
            A[x][y] = 2;
            int up    = component(A,   x+1,   y   ); 
            int down  = component(A,   x-1,   y   ); 
            int right = component(A,   x,     y+1 ); 
            int left  = component(A,   x,     y-1 ); 
            return right + left + down + up + 1;
        }
        return 0;
        }
        static int  longest(int[][] A) {
            int max = 0;
            if(A != null) {
                for(int i=0; i< A.length; i++)   {
                    for(int j=0; j< A[0].length; j++) {
                        int count = component(A, i, j);
                        if(count > max)
                            max = count;
                    }
                }
            }
            return max;
        }
        </pre>

        <div class="mytitle">
        Better Version 
        </div>
        <pre class="prettyprint">
        /*
            Count the continuous connected components in 2d array
            The problem can be viewed as four children tree, and count the longest path from the root
            The data of node can be 0 or 1.
            If data is 1 then travel to its children node, 
            else stop and return all the counts from children and add 1 
        */

        /*
                       [c-1, r] 
           [c, r-1] <- [c, r] -> [c, r+1]
                       [c+1, r]
                
        */
        public static int count(int[][] arr, int c, int r){
            int c1 = 0, c2 = 0, c3 = 0, c4 = 0, c5 = 0;
            if(arr != null && arr.length > 0){
                int height = arr.length;
                int width = arr[0].length;
                if(arr[c][r] == 1){
                    arr[c][r] = 0;
                    c1 = 1;
                    if(r + 1 < width){
                        c2 = count(arr, c, r+1);
                    }
                    if(r - 1 >= 0){
                        c3 = count(arr, c, r-1);
                    }
                    if(c + 1 < height){
                        c4 = count(arr, c+1, r);
                    }
                    if(c - 1 >= 0){
                        c5 = count(arr, c-1, r);
                    }
                    // arr[c][r] = 1;
                }
            }
            return c5 + c1 + c2 + c3 + c4;
        }

        public static void test0(){
            Aron.beg();
            int[][] arr = {
                {0, 0, 1, 0},
                {1, 0, 1, 0},
                {1, 0, 1, 1},
                {1, 0, 0, 1}
                }; 
           
            int height = arr.length;
            int width = arr[0].length;
            int max = 0;
            int count = 0;
            for(int c=0; c<height; c++){
                for(int r=0; r<width; r++){
                    count = count(arr, c, r);
                    if(count > max)
                        max = count;
                }
            }
            Print.p("max=" + max);

            
            Aron.end();
        }

        </pre>

        <div class="cen">
        <img src="../image/longestcomponent.png" width="50%" height="50%" /><br>
        <a href="https://github.com/bsdshell/java/tree/master/longestComponent.java">Source Code</a>
        </div>

    </body>
    </html>
    
















































